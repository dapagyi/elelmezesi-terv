{"version":3,"sources":["components/layout/footer_nyakkendő.svg","components/layout/Footer.tsx","services/CustomError.ts","services/fetchSpreadsheet.ts","services/initializeApp.ts","services/getEatingPlan.ts","services/AppContext.tsx","components/layout/AppBar.tsx","components/Border/BorderHelper.ts","components/Border/Border.tsx","scenes/Homepage.tsx","scenes/NewRecipe.tsx","components/Recipes/Pagination.tsx","components/Recipes/RecipeGrid.tsx","scenes/Recipes.tsx","components/common/Paragraph.tsx","services/getIngredients.ts","scenes/Recipe.tsx","scenes/Manual.tsx","scenes/EatingPlan.tsx","scenes/MustLoadBeforeUse.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","useStyles","makeStyles","theme","footer","backgroundColor","palette","background","paper","padding","spacing","justifyContent","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","ErrorType","Footer","classes","className","gutterBottom","src","footernyakkendo","style","width","display","margin","alt","title","CustomError","Error","fetchSpreadsheet","query","spreadsheetId","gid","headers","a","Promise","resolve","reject","encodedQuery","window","encodeURIComponent","urlToFetch","fetch","method","then","response","text","result","r","match","length","INVALID_SPREADSHEET_ID","json","JSON","parse","table","rows","map","row","c","column","v","errors","INVALID_SHEET_ID","catch","error","sleep","ms","setTimeout","tryToFetchAndProcess","properties","n","INVALID_FORMAT","tableIds","helperSheet","ingredientsSheet","recipesSheet","planSheet","menuTitle","newRecipeFormUrl","numOfMenus","AppConstants","e","initializeAppService","appConstants","initializeApp","console","warn","onError","message","columnToLetter","temp","letter","String","fromCharCode","transpose","_","getEatingPlan","parameters","i","push","join","plan","recipes","dataForDiagram","recipeNamesInPlan","days","day","meals","j","dish","mealOfDay","name","isExist","energy","price","recipeDataQuery","recipeName","recipeData","d","carbohydrate","fat","water","recipeNames","Object","keys","forEach","dishName","includes","filter","AppContext","React","createContext","defaultUserPreferencies","numberOfGuests","AppProvider","props","useState","setAppConstants","userPreferncies","setUserPreferencies","AppContextValue","userPreferencies","getUserPreferencies","input","fetchedAppConstants","Provider","value","children","icon","marginRight","menuButton","flexGrow","button","navItem","AppBar","appContext","useContext","Navbar","expand","Brand","as","to","IconButton","edge","aria-label","Toggle","aria-controls","Collapse","id","Nav","borderUrl","svg","PageStatus","Border","backgroundImage","this","backgroundSize","backgroundRepeat","Component","HeaderBorder","fontFamily","fontSize","header","marginTop","heroContent","Homepage","useEffect","sendPageView","inputValue","setInputValue","errorMessage","setErrorMessage","initPageStatus","SUCCESS","START","pageStatus","setPageStatus","isLoadingDemoLink","setIsLoadingDemoLink","isValidationErrorVisible","setIsValidationErrorVisible","buttonRef","useRef","current","click","focus","regExp","RegExp","valueBasedOnPageStatus","values","Details","component","ERROR","maxWidth","paragraph","InputGroup","FormControl","onChange","event","target","matches","placeholder","aria-describedby","Append","Button","ref","onClick","data","FETCHING","_errorMessage","log","textAlign","visibility","preventDefault","NewRecipe","height","iframeRef","frameBorder","marginHeight","marginWidth","pagination","Pagination","container","direction","justify","alignItems","page","currentPage","count","numOfPages","cardGrid","paddingTop","paddingBottom","card","flexDirection","cardMedia","cardContent","RecipeGrid","setCurrentPage","handleChange","_event","ConfiguredPagination","Math","ceil","recipesPerPage","isLoading","Array","apply","el","index","item","key","xs","sm","md","animation","slice","min","recipe","addDate","image","imageLink","textDecoration","fullWidth","size","heroButtons","RecipeList","setRecipes","setIsLoading","mounted","Grid","marginLeft","marginBottom","Paragraph","rowRegExp","getIngredients","ingredientsCellValue","ingredientsList","split","ingredients","incorrectIngredients","amount","unit","simplifyWeight","precision","parseFloat","toFixed","simplifyVolume","simplifyUnit","Recipe","params","useParams","LOADING","numOfGuests","setNumOfGuests","setRecipe","testColors","colorBasedOnNumber","number","themeColor","time","instructions","portions","parseInt","tools","addedBy","protein","source","otherParams","status","titleText","section","type","defaultValue","currentTarget","N","prevState","Text","Table","responsive","ingredient","chartType","loader","options","tool","Fragment","Badge","Manual","media","gridItem","EatingPlan","eatingPlan","setEatingPlan","lg","menu","toLowerCase","reduce","total","currentMealName","isStacked","ErrorScreen","MustLoadBeforeUse","main","flex","App","CssBaseline","basename","exact","path","Boolean","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.34767c19.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/footer_nyakkendő.36606a99.svg\";","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport footernyakkendo from './footer_nyakkendő.svg';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(4),\r\n    justifyContent: 'center',\r\n  },\r\n}));\r\n\r\nfunction Copyright(): JSX.Element {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {/* {'Copyright © '} */}\r\n      <Link color=\"inherit\" href=\"https://dapagyi.github.io/\">\r\n        dapagyi.github.io\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst Footer: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <footer className={classes.footer}>\r\n        <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n          Apagyi Dávid\r\n        </Typography>\r\n        {/* <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\r\n          <Link color=\"inherit\" href=\"mailto:apagyi.david+dev@gmail.com?subject=Élelmezési terv weboldal\">\r\n            apagyi.david@gmail.com\r\n          </Link>\r\n        </Typography> */}\r\n        <Copyright />\r\n        {/* <Box justifyContent=\"center\"> */}\r\n        <img\r\n          src={footernyakkendo}\r\n          style={{ width: `${121 + 29}px`, display: 'block', margin: '8px auto 0 auto' }}\r\n          alt=\"segédtiszti vándornyakkendő\"\r\n          title=\"STVK 28/C\"\r\n        />\r\n        {/* </Box> */}\r\n      </footer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","export enum ErrorType {\r\n  INVALID_SPREADSHEET_ID = 'Nem elérhető a táblázat. (Hibás a link, vagy nincs megosztva.)',\r\n  INVALID_SHEET_ID = 'Nem megfelelő munkalapra mutat a link.',\r\n  INVALID_FORMAT = 'A táblázat valószínűleg nem teljesíti a működéshez szükséges formai követelményeket. Ha ez tévedés, kérlek vedd fel a kapcsolatot.',\r\n}\r\n\r\nexport class CustomError extends Error {\r\n  // constructor(errorType: ErrorType) {\r\n  //   super(errorType);\r\n  // }\r\n}\r\n","import { CustomError, ErrorType } from './CustomError';\r\n\r\nexport default async function fetchSpreadsheet(\r\n  query: string,\r\n  spreadsheetId: string,\r\n  gid: number | string,\r\n  headers: number,\r\n): Promise<string[][]> {\r\n  return new Promise((resolve, reject) => {\r\n    const encodedQuery = window.encodeURIComponent(query);\r\n    const urlToFetch = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/gviz/tq?tq=${encodedQuery}&gid=${gid}&headers=${headers}`;\r\n    const requestOptions: RequestInit = {\r\n      method: 'GET',\r\n    };\r\n    // fetch(urlToFetch, requestOptions)\r\n    fetch(urlToFetch, requestOptions)\r\n      .then(response => response.text())\r\n      .then(result => {\r\n        const regExp = /^\\/\\*O_o\\*\\/\\ngoogle.visualization.Query.setResponse\\(({.*})\\);$/;\r\n        const r = result.match(regExp);\r\n        if (!r || r.length < 2) throw new CustomError(ErrorType.INVALID_SPREADSHEET_ID);\r\n        const json: ResponeJSON = JSON.parse(r[1]);\r\n        if (json.table) {\r\n          const table = json.table.rows.map(row =>\r\n            row.c.map(column => {\r\n              return column ? column.v : '';\r\n            }),\r\n          );\r\n          resolve(table);\r\n          return table;\r\n        } else if (json.errors) {\r\n          // throw new Error(json.errors.map(e => e.detailed_message).join('\\n'));\r\n          throw new CustomError(ErrorType.INVALID_SHEET_ID);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\ninterface ResponeJSON {\r\n  version: string;\r\n  reqId: string;\r\n  status: string;\r\n  sig: string;\r\n  table?: {\r\n    rows: {\r\n      c: ({\r\n        v: string;\r\n      } | null)[];\r\n    }[];\r\n  };\r\n  errors?: {\r\n    reason: string;\r\n    message: string;\r\n    detailed_message: string;\r\n  }[];\r\n}\r\n","import fetchSpreadsheet from './fetchSpreadsheet';\r\nimport { CustomError, ErrorType } from './CustomError';\r\n\r\nexport interface InitializeAppService {\r\n  spreadsheetId: string;\r\n  gid: number | string;\r\n}\r\n\r\ninterface TableIds {\r\n  helperSheet: number;\r\n  ingredientsSheet: number;\r\n  recipesSheet: number;\r\n  planSheet: number;\r\n}\r\n\r\nexport interface AppConstants {\r\n  title: string;\r\n  spreadsheetId: string;\r\n  tableIds: TableIds;\r\n  newRecipeFormUrl: string;\r\n  numOfMenus: number;\r\n}\r\n\r\nconst sleep = (ms: number): Promise<void> => new Promise(r => setTimeout(r, ms));\r\n\r\nconst MAX_TRIES = 3;\r\nconst SLEEP_MS = 1000;\r\n\r\nasync function tryToFetchAndProcess(properties: InitializeAppService, n = MAX_TRIES): Promise<AppConstants> {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (n === 0) return reject(new CustomError(ErrorType.INVALID_FORMAT));\r\n    // console.log(`Try (${MAX_TRIES - n + 1}/${MAX_TRIES})...`);\r\n    const table = await fetchSpreadsheet(\r\n      'select A, B, D, F where A is not null limit 3',\r\n      properties.spreadsheetId,\r\n      properties.gid,\r\n      1,\r\n    );\r\n    try {\r\n      const tableIds: TableIds = {\r\n        helperSheet: +table[0][0],\r\n        ingredientsSheet: +table[1][0],\r\n        recipesSheet: +table[2][0],\r\n        planSheet: +properties.gid,\r\n      };\r\n      const menuTitle = table[0][2];\r\n      const newRecipeFormUrl: string = table[0][1];\r\n      const numOfMenus: number = +table[0][3];\r\n      const AppConstants: AppConstants = {\r\n        title: menuTitle,\r\n        spreadsheetId: properties.spreadsheetId,\r\n        tableIds: tableIds,\r\n        newRecipeFormUrl: newRecipeFormUrl,\r\n        numOfMenus: numOfMenus,\r\n      };\r\n      resolve(AppConstants);\r\n    } catch (e) {\r\n      if (n !== 0) {\r\n        if (n !== 1) await sleep(SLEEP_MS);\r\n        tryToFetchAndProcess(properties, n - 1)\r\n          .then(a => {\r\n            resolve(a);\r\n          })\r\n          .catch(e => {\r\n            reject(e);\r\n          });\r\n      } else reject(e);\r\n    }\r\n  });\r\n}\r\n\r\nexport async function initializeAppService(properties: InitializeAppService): Promise<AppConstants> {\r\n  // console.log(`Initializing...`);\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const appConstants = await tryToFetchAndProcess(properties).catch(e => {\r\n        throw e;\r\n      });\r\n      resolve(appConstants);\r\n    } catch (e) {\r\n      // console.warn(e);\r\n      reject(e);\r\n    }\r\n  });\r\n}\r\n\r\nexport interface InitializeApp extends InitializeAppService {\r\n  onError: (errorMessage: string) => void;\r\n}\r\n\r\nexport const initializeApp = async (properties: InitializeApp): Promise<AppConstants> => {\r\n  return new Promise(async resolve => {\r\n    try {\r\n      const appConstants = await initializeAppService(properties);\r\n      resolve(appConstants);\r\n    } catch (e) {\r\n      if (e instanceof CustomError) {\r\n        console.warn(e);\r\n        properties.onError(e.message);\r\n      } else {\r\n        console.error(e);\r\n        properties.onError('Ismeretlen hiba történt. Kérlek vedd fel a kapcsolatot.');\r\n      }\r\n    }\r\n  });\r\n};\r\n","import { AppConstants } from './initializeApp';\r\nimport fetchSpreadsheet from './fetchSpreadsheet';\r\n\r\nfunction columnToLetter(column: number): string {\r\n  let temp,\r\n    letter = '';\r\n  while (column > 0) {\r\n    temp = (column - 1) % 26;\r\n    letter = String.fromCharCode(temp + 65) + letter;\r\n    column = (column - temp - 1) / 26;\r\n  }\r\n  return letter;\r\n}\r\n\r\ninterface Recipe {\r\n  name: string;\r\n  price: number;\r\n  energy: number;\r\n  protein: number;\r\n  carbohydrate: number;\r\n  fat: number;\r\n  water: number;\r\n}\r\n\r\nexport interface EatingPlan {\r\n  recipes: Recipe[];\r\n  dataForDiagram: (string | number)[][];\r\n  plan: {\r\n    [day: string]: {\r\n      meals: {\r\n        [mealOfDay: string]: {\r\n          name: string;\r\n          isExist: boolean;\r\n          energy: number;\r\n          price: number;\r\n        };\r\n      };\r\n    };\r\n  };\r\n}\r\n\r\nconst transpose = (a: string[][]): string[][] => a[0].map((_, c) => a.map(r => r[c]));\r\n\r\nexport async function getEatingPlan(parameters: AppConstants): Promise<EatingPlan> {\r\n  return new Promise(async (resolve, reject) => {\r\n    const FIRST_COLUMN_OF_PLAN = 8;\r\n    const c: string[] = [];\r\n    for (let i = 0; i <= parameters.numOfMenus; i++) c.push(columnToLetter(FIRST_COLUMN_OF_PLAN + i));\r\n    const query = `select ${c.join(', ')} where ${columnToLetter(FIRST_COLUMN_OF_PLAN)} is not null`;\r\n    const plan = await fetchSpreadsheet(query, parameters.spreadsheetId, parameters.tableIds.planSheet, 0);\r\n\r\n    // const recipes = await fetchSpreadsheet(query, parameters.spreadsheetId, parameters.tableIds.planSheet, 0);\r\n    const result: EatingPlan = { recipes: [], plan: {}, dataForDiagram: transpose(plan) };\r\n    const recipeNamesInPlan: string[] = [];\r\n    // console.log(transpose(plan));\r\n\r\n    const days = plan[0];\r\n    for (let i = 1; i < days.length; i++) {\r\n      const day = days[i];\r\n      // result[day] = [];\r\n      result.plan[day] = { meals: {} };\r\n      for (let j = 1; j < plan.length; j++) {\r\n        const dish = plan[j][i];\r\n        const mealOfDay = plan[j][0];\r\n        if (dish) {\r\n          result.plan[day].meals[mealOfDay] = { name: dish, isExist: false, energy: 0, price: 0 };\r\n          recipeNamesInPlan.push(dish);\r\n        }\r\n      }\r\n    }\r\n    const recipeDataQuery = `select B, Q, R, S, T, U, V where (${recipeNamesInPlan\r\n      .map(recipeName => `B = \"${recipeName}\"`)\r\n      .join(' or ')})`;\r\n    const recipeData = await fetchSpreadsheet(\r\n      recipeDataQuery,\r\n      parameters.spreadsheetId,\r\n      parameters.tableIds.recipesSheet,\r\n      1,\r\n    );\r\n    result.recipes = recipeData.map(d => {\r\n      return { name: d[0], price: +d[1], energy: +d[2], carbohydrate: +d[3], fat: +d[4], water: +d[5] } as Recipe;\r\n    });\r\n    const recipeNames = result.recipes.map(r => r.name);\r\n    Object.keys(result.plan).forEach(day => {\r\n      Object.keys(result.plan[day].meals).forEach(mealOfDay => {\r\n        const dishName = result.plan[day].meals[mealOfDay].name;\r\n        const isExist = recipeNames.includes(dishName);\r\n        result.plan[day].meals[mealOfDay].isExist = isExist;\r\n        if (isExist) {\r\n          result.plan[day].meals[mealOfDay].energy = result.recipes.filter(r => r.name === dishName)[0].energy;\r\n          result.plan[day].meals[mealOfDay].price = result.recipes.filter(r => r.name === dishName)[0].price;\r\n        }\r\n      });\r\n    });\r\n\r\n    for (let i = 1; i < result.dataForDiagram.length; i++) {\r\n      for (let j = 1; j < result.dataForDiagram[i].length; j++) {\r\n        const dishName = result.dataForDiagram[i][j] + '';\r\n        // if (recipeNames.includes(dishName)) {\r\n        result.dataForDiagram[i][j] = recipeNames.includes(dishName)\r\n          ? result.recipes.filter(r => r.name === dishName)[0].energy\r\n          : 0;\r\n        // }\r\n      }\r\n    }\r\n    // console.log(recipeData);\r\n\r\n    resolve(result);\r\n  });\r\n}\r\n","import React from 'react';\r\n\r\nimport { AppConstants, initializeApp, InitializeApp } from './initializeApp';\r\nimport { getEatingPlan, EatingPlan } from './getEatingPlan';\r\n\r\nexport const AppContext = React.createContext<AppContext | null>(null);\r\n\r\nexport interface UserPreferencies {\r\n  numberOfGuests: number;\r\n}\r\n\r\nconst defaultUserPreferencies: UserPreferencies = {\r\n  numberOfGuests: 42,\r\n};\r\n\r\ninterface AppContext {\r\n  appConstants: AppConstants | null;\r\n  userPreferencies: {\r\n    getUserPreferencies: UserPreferencies;\r\n    setUserPreferencies: React.Dispatch<React.SetStateAction<UserPreferencies>>;\r\n  };\r\n  initializeApp: (input: InitializeApp) => Promise<string>;\r\n  getEatingPlan?: () => Promise<EatingPlan>;\r\n  getRecipesForRecipeList?: () => void;\r\n  getRecipeInformation?: (name: string) => void;\r\n}\r\n\r\nexport const AppProvider: React.FC = props => {\r\n  // const [recipeMap, setRecipeMap] = React.useState<Map<string, string>>(new Map<string, string>());\r\n  // const recipes = new Map<string, AppRecipe>();\r\n  // const ingredients = new Map<string, Map<string, AppIngredient>>();\r\n\r\n  const [appConstants, setAppConstants] = React.useState<AppConstants | null>(null);\r\n  const [userPreferncies, setUserPreferencies] = React.useState<UserPreferencies>(defaultUserPreferencies);\r\n\r\n  const AppContextValue: AppContext = {\r\n    appConstants: appConstants,\r\n    userPreferencies: {\r\n      getUserPreferencies: userPreferncies,\r\n      setUserPreferencies: setUserPreferencies,\r\n    },\r\n    initializeApp: async (input: InitializeApp): Promise<string> => {\r\n      return new Promise(async resolve => {\r\n        const fetchedAppConstants = await initializeApp(input);\r\n        setAppConstants(fetchedAppConstants);\r\n        // console.log(`Initialized with constants: `, fetchedAppConstants);\r\n        resolve(fetchedAppConstants.title);\r\n      });\r\n    },\r\n    getEatingPlan: async (): Promise<EatingPlan> => {\r\n      if (!appConstants) return { recipes: [], plan: {}, dataForDiagram: [] };\r\n      return await getEatingPlan(appConstants);\r\n    },\r\n  };\r\n\r\n  return <AppContext.Provider value={AppContextValue}>{props.children}</AppContext.Provider>;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n// import Button from '@material-ui/core/Button';\r\n\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport LocalDiningIcon from '@material-ui/icons/LocalDining';\r\n\r\nimport { AppContext } from 'services/AppContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  navItem: {\r\n    color: 'black',\r\n    // textTransform: 'uppercase',\r\n  },\r\n}));\r\n\r\nconst AppBar: React.FC = () => {\r\n  const classes = useStyles();\r\n  const appContext = React.useContext(AppContext);\r\n\r\n  return (\r\n    <>\r\n      <Navbar style={{ backgroundColor: '#91cc8d' }} expand=\"lg\">\r\n        <Navbar.Brand as={Link} to=\"/\">\r\n          <IconButton edge=\"start\" className={(classes.icon, classes.navItem)} color=\"inherit\" aria-label=\"menu\">\r\n            <LocalDiningIcon />\r\n          </IconButton>\r\n          <span className={classes.navItem}>{appContext?.appConstants?.title || 'Élelmezési terv'}</span>\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <Nav.Link as={Link} to=\"/\">\r\n              <span className={classes.navItem}>Kezdőoldal</span>\r\n            </Nav.Link>\r\n            <Nav.Link as={Link} to=\"/utmutato\">\r\n              <span className={classes.navItem}>Útmutató</span>\r\n            </Nav.Link>\r\n            {appContext && appContext.appConstants ? (\r\n              <>\r\n                <Nav.Link as={Link} to=\"/elelmezesi-terv\">\r\n                  <span className={classes.navItem}>Élelmezési terv</span>\r\n                </Nav.Link>\r\n                <Nav.Link as={Link} to=\"/receptkonyv\">\r\n                  <span className={classes.navItem}>Receptkönyv</span>\r\n                </Nav.Link>\r\n              </>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            {/* <Nav.Link href=\"#link\">Link</Nav.Link> */}\r\n            {/* <NavDropdown title=\"Dropdown\" id=\"basic-nav-dropdown\">\r\n              <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\r\n              <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\r\n              <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\r\n            </NavDropdown> */}\r\n          </Nav>\r\n          {/* <Form inline>\r\n            <FormControl type=\"text\" placeholder=\"Recept neve\" className=\"mr-sm-2\" />\r\n            <Button\r\n              variant=\"light\"\r\n              // variant=\"outline-success\"\r\n            >\r\n              Keresés\r\n            </Button>\r\n          </Form> */}\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </>\r\n  );\r\n\r\n  // return (\r\n  //   <>\r\n  //     <MaterialAppBar style={{ backgroundColor: '#72bf44', flexGrow: 1 }} position=\"relative\">\r\n  //       <Toolbar>\r\n  //         {/* <IconButton edge=\"start\" className={classes.icon} color=\"inherit\" aria-label=\"menu\">\r\n  //           <LocalDiningIcon />\r\n  //         </IconButton>\r\n  //         <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n  //           <b>GH</b>\r\n  //         </Typography>\r\n  //         <Button color=\"inherit\">Login</Button> */}\r\n  //         <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n  //           <LocalDiningIcon />\r\n  //           {/* <MenuIcon /> */}\r\n  //         </IconButton>\r\n  //         <Typography variant=\"h6\" className={classes.title}>\r\n  //           GH\r\n  //         </Typography>\r\n  //         <Button className={classes.button} color=\"inherit\">\r\n  //           Útmutató\r\n  //         </Button>\r\n  //         <Link to=\"/receptkönyv\">\r\n  //           <Button className={classes.button} color=\"inherit\">\r\n  //             Receptkönyv\r\n  //           </Button>\r\n  //         </Link>\r\n  //         <Button className={classes.button} color=\"inherit\">\r\n  //           Tábori élelmezési terv\r\n  //         </Button>\r\n  //       </Toolbar>\r\n  //     </MaterialAppBar>\r\n  //   </>\r\n  // );\r\n};\r\n\r\nexport default AppBar;\r\n","// import BorderSVG from './Border.svg';\r\n\r\nexport function borderUrl(backgroundColor: string): string {\r\n  const d =\r\n    'M306.41.8s.16,0,.3,0h0l.19.14a1.75,1.75,0,0,1-.34,0c0-.05,0-.11-.12-.11M305.12.17h.71l.15.2.06,0h-.22c.14-.2-.27-.22-.7-.23m-1.26.17A16.93,16.93,0,0,0,301.07.2l.13,0h3a.71.71,0,0,1-.35.17m-4.24.25c-.27-.1.45-.14.12-.29h.08c.52,0,1,.08,1.51.09,0,.09.22.08.13.19-.41.05-1.5,0-1.84,0M281.56.42l-.12-.1a1.34,1.34,0,0,1,.33,0,.4.4,0,0,1-.21.06M266.4.5l.53-.09a5.89,5.89,0,0,0,.73,0c0,.16-.88.05-1.26.09m.05.46s-.13-.08,0-.13a24.53,24.53,0,0,1,5.53.22H271c-.22,0,0,.21-.21.23a9,9,0,0,1-1.57-.07c.08-.06.31-.08.19-.21-.64-.08-2.3,0-3,0m-1-.53a1.55,1.55,0,0,1-.31,0A1.71,1.71,0,0,1,266,.28l-.58.15m.53.62A4.64,4.64,0,0,1,265,1V.87l.1-.05h0c.1,0,.25-.09.25-.17.17.15.67.18.6.4m-1.86-.6-.05-.11a1.1,1.1,0,0,1,.49.06l-.44,0m.48.61h-.08l.12,0ZM262.45.43,262.3.36a1.64,1.64,0,0,0,.41-.1.59.59,0,0,0,.39.1c-.14.1-.26.18-.65.07M170.11.18a2.64,2.64,0,0,1,.68,0c0,.07,0,.12-.15.16-.44,0-.42-.07-.53-.13M164.83.06h0M158.6.14a10,10,0,0,1-1.35-.06.57.57,0,0,1,.22,0h.28a2.79,2.79,0,0,1,.85.09m-8.84.44c0-.22,1.31-.11,1.35,0a6.87,6.87,0,0,1-1.35,0M135.29.33c.24-.11.53,0,.4,0-.36,0-2.28,0-.4,0M117.84.05l-.1,0H118ZM105.07,0h4.64c-1.5.18-2.87-.07-4.21.19a1.24,1.24,0,0,1-.43-.19m-4.17,0a12.66,12.66,0,0,1,1.76.11,2.17,2.17,0,0,0,.47-.15h.8c-.47,0-.89,0-.74.23A6.63,6.63,0,0,1,100.9.05m-.67,0A2.6,2.6,0,0,1,99.36,0h.32V0a1.72,1.72,0,0,1,.54.05M97.52,0a8.55,8.55,0,0,1,1.35.06c-.24.05-1.31.07-1.35-.06m-1,.11V0h.5l0,.08a2.7,2.7,0,0,1-.54,0M84.76.39c.24,0,.8,0,.81,0-.19,0-.16.09-.28.12-.42,0-.37-.11-.53-.17m-4.91.5c.4,0,.36-.16,1-.11.24.19-.74.2-1,.11m-5-.19c.28,0,.89,0,1,.05a1.94,1.94,0,0,1-1-.05M11.44,3.58A4.56,4.56,0,0,1,11,3.27a1.06,1.06,0,0,1,.37.14.88.88,0,0,1,.38-.1l.21.07c-.1.07-.12.14-.1.21a2.14,2.14,0,0,0-.44,0M8.36,9.36s.18,0,.33,0c.07.22-1.09,0-.66-.08,0,0,.09,0,.22,0l.22,0Zm.08-1.17a4.48,4.48,0,0,0-.77,0c-.4.13-.16.29-.76.38.39-.34.48-1.08,2-.91,0,.24-.47.31-.43.56m-1.74,1c.28.05.53-.08.55,0a2.64,2.64,0,0,1-.55.07c-.21,0-.08-.23.11-.1ZM6.51,5.53c.21-.25,1.26-.06,1.43.11a4.7,4.7,0,0,1-1.21-.18s0,.08-.22.07m-.44.14c.16,0,.28.06.44.07-.22.17.17.31-.32.36a.63.63,0,0,0-.56-.18A9.73,9.73,0,0,1,4,6c.72-.08,1.18-.22,2.09-.32m0,5c-.16.12.36.21.12.24.08-.09-.52,0-.45-.07.27,0-.25-.2.33-.17m.83,3.08-.12-.18h0c0,.05.27,0,.44,0s-.15.09-.1.17l-.24,0M5.38,9.39c.18.11.57-.05.66,0a3.08,3.08,0,0,1-.88.11c-.14-.07-.08-.19-.33-.22.13,0,.26,0,.22-.07.45.05.85-.1,1.1,0l-.22,0c.13,0,.31,0,.33,0-.39.06-.69-.06-.88.07M4.62,5.28l-1-.06,0-.1,1.86.16c.2,0,.07.12.22.14a3.92,3.92,0,0,1-1.11-.14m.54-.46c.47,0,.27.08.12.14.21.1.84.07,1,.18a8.47,8.47,0,0,1-1.67-.21c.32.07.89,0,.55-.11m-1.9,0c.09-.11.32-.17.3-.31a2.72,2.72,0,0,1,.83.1l-.11.14c.23,0,.83,0,.44.07-.18,0-.73-.12-.77,0,.24,0,.35,0,.33.11a1.8,1.8,0,0,0-.62,0,.8.8,0,0,1-.4-.08m1.36,5.86a.92.92,0,0,0,.35.06c-.14.19.13.26.45.39,0,0-.14,0-.33,0,0,.13.28.17.34.28.34,0-.3-.18.1-.21s.11.21.56.25c0,.07-.41-.06-.55,0s.31.09.44.15c-.54.09-.38.42-.09.53l-.09.05c-.33,0-.15-.21-.42-.25-.47,0-.07.14-.23.23h0c-.38-.14.15-.28-.06-.45.08-.11.31.1.34,0a2.09,2.09,0,0,1-.24-.28c-.24,0-.09.11-.27.11s.06-.14,0-.22c-.68-.16,0-.42-.27-.69m1,3.36c0-.12.09-.21-.08-.3-.42,0-.22,0-.61,0-.06-.09.11-.11.26-.13l-.06,0c.36,0,.24,0,.56-.07a1.87,1.87,0,0,0,.71.21h0c-.4.05-.25.27-.76.28m-1.3-1.95c.06-.06-.09-.2.1-.22,0,0,.14,0,.26,0s-.23.13-.36.19m.21.5,0-.08.05.07Zm.17.21-.07-.07h.28l-.09.08Zm.25.55,0,0H5l-.07,0ZM3,5.05h.12l0,.13h0V5.12c-.13,0-.13,0-.1-.07m.67,4.88-.21-.09c.54,0,.63-.08.71-.19h.07l0,0c.37.11,0,.15.12.24l-.65.08m1.66,6.6c0-.09-.35-.08-.25-.2.41,0,.44.15.25.2m.08.17c.12.16.44.35.23.53-.37-.07-.63-.41-.23-.53M3.46,10.64l0-.05.09,0a.34.34,0,0,1,.25.11,2.5,2.5,0,0,0-.32,0M1.18,3.35l0,0h.07Zm2.19,8.76c0-.12,0-.25,0-.38h.13a.27.27,0,0,1-.12.38m.87,3.24.26.06c0,.09-.23.08-.36.11.06,0-.09-.16.1-.17M0,3.42v0a2.7,2.7,0,0,1,.83,0,7.7,7.7,0,0,1-.83,0M1.27,4.63,0,4.56V4.5c.44,0,1,.08,1.25.12Zm.14.42L0,5v-.2l1.33.14ZM.77,26.39c.09,0,0,.07,0,.11s-.17-.06-.15-.12H.77ZM2.41,16.1,2.29,16h0ZM6.69,27.65c-.26,0-.34-.13-.61,0,0-.14-.51-.26.11-.3.2.09.8.17.5.33m.69,0,.1.08a1.26,1.26,0,0,0-.28.05Zm.11-.44c.14.15.53.22.41.45-.83.05-.64-.22-.76-.4a5.25,5.25,0,0,0-1.21-.06c-.23-.05.06-.25-.16-.3s-.29,0-.6,0l0-.07h.15l-.14,0c0-.09.24-.13.3-.21l0,.1c.88-.23.37.27.89.18,0,.08-.19.1-.1.21.42.12.75.05,1.2.14m.7-.14v.14a3.13,3.13,0,0,0-.68,0c.07-.09.42-.09.68-.13m1.17-.92a5,5,0,0,0-1.21.25c-.46-.09-.11-.16-.23-.25a6.12,6.12,0,0,0-.66,0c-.08.15.17.19.12.32-.37,0-.43-.1-.45-.21-.75,0-.94.21-1.57.15A1,1,0,0,1,5,26.21c.35-.08.91-.09,1.27-.17a5.22,5.22,0,0,1-1.21-.14H4.91c0-.18.19-.37.17-.58l.35-.11h0c.16,0,.32-.07.5-.09.48.11.87.19.67.39a1.24,1.24,0,0,0-.22,0c-.05,0-.37-.18-.22-.17-.24-.09-.66-.08-.67.07.23,0,.35,0,.34.07s-.3-.05-.44,0c.11.05.11.13.22.18s.23,0,.22-.1c.19,0,.14.16.45.17-.14,0-.74.06-.66.25C6,26,6.79,25.62,7,25.9a2.2,2.2,0,0,0,1.1-.28c0,.12.33.19.34.39A2.53,2.53,0,0,0,9,26c.23,0,.11.13.34.14M111.22,29.6c2.36,0,4.76-.05,7.22,0Zm39.07-.06,5.53.1H144.5l1.1,0c.15-.15-.38-.12-.37-.24,1.86-.11,3.16-.16,5.08-.16.6.17-.52.22,0,.35m9-.45a12,12,0,0,1,1.94.08c-.34.12-8.09-4.21-1.94-.08m18.89.5c-.48,0-.95,0-1-.13.25,0,.18-.1.4-.11.07.11.89,0,.56.24m14.7-.79c-.35.17-.77,0-.59,0,.53-.06,3.29,0,.59,0m8.32.88h-1.67a4.18,4.18,0,0,1-1-.22c1,.07,2.7-.21,2.71.22M218,29.22c1.32.46,4.8-.08,7,.15-.89.08-2.92.33-3.32,0-.6.11-1.21.22-1.86.31H201.8c.08-.19.62-.23,1-.33,1.89.39,3.84-.11,5.45.25,2.61-.38,7.25.1,9.78-.38m10.59-.67c.58,0,2.43-.05,3.12,0,.15.17-.28.15-.22.29-1,0-1.78.11-2.74.14.66-.24-.64-.31-.16-.47m13.19,1.12-1,0,0-.17c.56,0,1.06,0,1,.19m.62-.46a19.88,19.88,0,0,1-2.53-.15c-.52.11-1.12.3-.63.57-3.59-.35-6,.16-9.53-.37,2.17-.25,4.13.11,6.07-.26.49.07.43.3.95.36.62-.2,2.76.09,2.37-.43a9.31,9.31,0,0,1,3.3.28m-.72-.83a7.35,7.35,0,0,1-1.55-.08c.22,0,.21-.09.2-.17a2.59,2.59,0,0,1,1.35.25m4,1.17c-1.06-.12-2.07.34-2.54,0,.46-.07,1.1-.09,1-.34-.29,0-.72,0-.77-.06a7,7,0,0,1,2.31.38m1.58-.27a11.78,11.78,0,0,1-1.94-.09c.35-.07,1.89-.1,1.94.09m1.38-.16v.18c-.35,0-1,0-.77-.13a4.1,4.1,0,0,1,.78-.05m17-.4c-.34,0-1.15.05-1.17-.07.28,0,.24-.13.41-.17.61,0,.54.15.76.24m7.08-.72c-.58,0-.51.24-1.38.16-.34-.27,1.08-.29,1.38-.16m4.89-.16a8.68,8.68,0,0,1-3.72.12,20.76,20.76,0,0,1,3.72-.12m2.31.44c-.4,0-1.29,0-1.36-.08a2.58,2.58,0,0,1,1.36.08m.3,1.46c2.15-.06,4.39-.06,6.77,0Zm12.49-.17c-1,.07-3.31.12-3.5-.22a7,7,0,0,1,3.5.22m1.94.09a6.32,6.32,0,0,1,.67.1H294l.74-.1m3.71.1h-.77a2.21,2.21,0,0,0,.38-.11,2.35,2.35,0,0,0,.39.11m2.69-2.33-.68.05v.18c-.41.13-1.28.11-1.69.24a6.74,6.74,0,0,0-3.1-.22c-.2,0-.21-.07-.23-.13,1.27,0,1.73-.47,3.66-.32.61,0,.56-.14.8-.22.56,0,.46.29.75.42h.49m5.3.09c.09.08.24.15.2.27s-.19.06-.33.07l0-.16v0c0-.05,0-.1.18-.14m.46-.06.18,0v.07a.54.54,0,0,1-.18,0m.19-.14h0l-.38.06-.05,0c.2,0,.24,0,.43,0m.67-1.09a1,1,0,0,1-.45.06l-.2,0a1.2,1.2,0,0,0,.57-.07Zm.14-.24c0-.12,0-.4-.18-.55.75,0,.24.5.18.55m1.28.91a3.11,3.11,0,0,0,.44-.08l0,.06a1.21,1.21,0,0,0-.41.19Zm1.57-.69-.2.1,0,.19h0c-.13-.13-.22-.28-.06-.41a.89.89,0,0,1,.3.11M11.78,27.93l.35,0,.13.1c-.2,0-.42,0-.65,0l-.18,0,0-.07.39-.07M8.9,5.77l.21,0Zm300.74,6.1v.29a.92.92,0,0,0,.16.19c0-.12,0-.4.18-.55a.6.6,0,0,0-.33.07m.28,3.6v0h-.19v.18c.25,0,.79-.08.71-.29a2.49,2.49,0,0,0-.51.07m.79.54c-.14-.06-.14-.16-.28-.22s-.27.06-.26.13c-.21-.05-.2-.17-.46-.2a2.22,2.22,0,0,1-.09.37c.12.07.27.14.15.14.29.1.81.09.81-.09-.27,0-.43,0-.41-.09s.36.07.54,0m-2.13,6.21c-.27,0-.1.28.13.13l-.14-.05c.34-.05.66.1.68,0a5.37,5.37,0,0,0-.67-.08m-.54-.09a1.67,1.67,0,0,0-.31,0v.06c.14,0,.29,0,.31,0m-.14.09h-.18v.05Zm-.16-.2,0,0h0ZM301.33,1.11c-.2,0-.2.08-.19.16l.15,0h0c.12,0,.06-.08,0-.14m5.26,23.61-.08.09c.13,0,.25.05.22.13.5,0,.23-.18-.14-.22m-2.39,2.47h-.06v.07c-.16,0-.16.07-.12.09h.15ZM286.37,1.53a4.1,4.1,0,0,0-.78.05c-.21.17.42.11.77.13ZM285,1.69c-.05-.19-1.59-.16-1.94-.09a11.78,11.78,0,0,0,1.94.09M283.41,2a7.26,7.26,0,0,0-2.31-.39c0,.08.48.06.77.07.1.25-.54.27-1,.34.47.32,1.48-.14,2.54,0m5.4,23.75h-.13l-.05,0ZM278.54,1.89l0,.17,1,0c.1-.18-.4-.2-1-.19m-5.6,25.22c-.65,0-1.3,0-1.92,0l1.92,0M262.74,1.78c-2.22-.23-5.7.31-7-.15a40.41,40.41,0,0,1-6.26.22l.12,0c.41.06.57,0,.92,0a13.9,13.9,0,0,0,1.67.11c1.31,0,2.67,0,4,0,.49,0,.82,0,1.18.06h.23c.65-.09,1.26-.2,1.86-.31.4.32,2.43.07,3.32,0m-31-.59h0M212.07.83c0-.25-1.5-.08-2.14-.15,0,.25,1.49.08,2.14.15m-2.35,0a9.93,9.93,0,0,0-1.95,0c.06.18,2,.34,1.95,0M173.1,28.29h0m-146-.35-1.15-.24H23.88l-.14-.08a2.33,2.33,0,0,1-.37.08H21.78c-.65.09-1.26.2-1.86.31-.41-.31-2.43-.06-3.32,0,2.22.24,5.7-.3,7,.16a20.66,20.66,0,0,1,3.47-.24m-9.23.42a.58.58,0,0,0-.3-.1l0,.1h.33m-1.62-.93a3,3,0,0,0,1,0c-.08.1-.53.07-.55.18s.19,0,.22,0c.36,0,.08.22.55.18-.35-.16,0-.36-.23-.53-.31.08-.69.13-1,.21m-.12-.35c0,.07.31,0,.23.14.39,0,.6,0,.88-.07,0-.33-.27-.58-.35-.89a3.13,3.13,0,0,0-.77.14,1.27,1.27,0,0,0,.67.47c-.1.1-.56.1-.66.21m-.36-1.21c.44,0,.84-.13.66-.21s-.7.06-.66.21m-8-7.74a4.85,4.85,0,0,1-.9-.8l0-.09,0,.13c.41.25.53.57.83.78a.24.24,0,0,0,.17,0M30.24,1.35l.24,0c.25-.05.48-.14.73-.19A.57.57,0,0,1,31,1c-.54,0-.89.1-.84.31ZM35.33,1c.42,0,1,0,1.09-.11H35.33ZM17.35,25l.15.07.11-.05Zm3.4,2H20.2c-.17.1.72.11.55,0m-7.21.8a.83.83,0,0,0-.32.08l.3-.05Zm-.68-.91a1.65,1.65,0,0,0,.34,0l0,0c-.18,0-.26,0-.3.07M12,27h0ZM279.4.79a2.62,2.62,0,0,0-1.35-.25c0,.08,0,.16-.2.17a7.35,7.35,0,0,0,1.55.08m30,2.13c-1.05,1.59.16,2.18-1,3.22a2.08,2.08,0,0,1,.61.21l0,.34a1.18,1.18,0,0,0,.07.58,9.72,9.72,0,0,1,.59,4.06c.34,0,.14.16.4.17l0,.11-.12,0,0,.06,0,0h.17c.13.31.3.61.42.91a1.2,1.2,0,0,1-.55-.09c-.14,0-.08.09-.1.14.23.08.45,0,.64.07s-.32.14-.19.31a.89.89,0,0,0,.31,0l0,.2a.93.93,0,0,0,.13.45.68.68,0,0,0-.22,0v.17a.78.78,0,0,0,.27,0l0,.1-.4,0h-.06a1.83,1.83,0,0,0-.57,0l.09,0h0l0,0a4.23,4.23,0,0,0,.9.1l0,.2v.13c-.15,0-.07.1-.25.1l.06.06,0,0h.06l.16.14v0a3.47,3.47,0,0,0-1.16,0c.37.11,1-.09,1,.12l-.1,0A1.5,1.5,0,0,1,311,15l0,.12c-.3,0-.68.09-1,.13l-.09.08a4.32,4.32,0,0,1,1.15.15h.11l0,.07a1.46,1.46,0,0,0-.18.63c-.1.06-.39.06-.43.14h0a3.8,3.8,0,0,1-.62.11l-.51-.12,0,.13c-.11.21-.46.47-.57.68s-.06.41-.18.6c.1,1-.52,1.55,1.34,2.65,2.7,0-3.3.68-.46.75l.15-.06a1.05,1.05,0,0,0,.31.18l.17.25c-.18.12-.16-.08-.43,0,.09.14.2.32.09.48-2.16,0,2.58,1.15.53,1.1.35.25.39.43.31.58l0-.1a8.54,8.54,0,0,1-.95,0c-.49-.17-.2-.36-.93-.48.32.3.49.8,1.14,1-.8.29-1.71.54-.53,1.13l.05.21.47.05.27.14c0,.12.2.21.18.36-.47,0-.25-.24-.84-.21a6.68,6.68,0,0,1,0,.89l-.49.06c-.1-.29-.2-.58,0-.81-.49-.31-.65-.71-1-1-.42,0-.1.2-.54.17-.08.09.11.1.19.15l0,.06,0,0c-.1.09-.23-.11-.42,0,.07.3-.21.56-.36.87-.58-.06-1.39,0-1.66,0,.66.07,1.2.18,1.86.28.08.07.29.09.19.21-.41,0-.37-.08-.63-.1a6,6,0,0,1-1.39.16.89.89,0,0,1,.11.35l-.57,0,0,.13.57-.05,0,.11a2.31,2.31,0,0,1,.43,0c-.07.13-.3.26-.34.4s-.31,0-.33-.07c.29,0,.43,0,.41-.13a2.44,2.44,0,0,1-.77,0,1.13,1.13,0,0,0-.49.1c.1.11.26.19.32.3L304,28c-.71-.1.46-.08.21-.23a18.23,18.23,0,0,1-3.37-.07l1.2-.12.06-.2-.3,0c0-.07.12-.12.38-.11-.33-.13-.43-.18-.17-.35-1.46-.15-2.7,0-4.28-.12-.38.09.26.23-.22.35-1.11,0-.91-.28-1.54-.37-.9,0-1.1.33-1,.69a7.13,7.13,0,0,1-1.93-.06,1,1,0,0,0-.77-.1l0,.11c-.32.12.5.16.22.39-1.27.33-1.46-.31-2.51-.38-.74.15-.46.3,0,.52a3.81,3.81,0,0,1-2.3-.61,1.92,1.92,0,0,0-1,.22,23.73,23.73,0,0,0-5.25-.2c-.25.13-.24.33-.62.4-1,0-1.55.11-2.54.09.05-.27,1.35-.13,1.2-.45-4.16,0-8.25-.3-10,.44a21,21,0,0,0-5.64-.26c-.17.45-2.52.19-3.15.49-.62,0-.62-.14-.57-.31-.75.08-1.34.11-1,.4-1.19-.05-2.08-.18-2.31-.5a26.75,26.75,0,0,0-3.51,0c.27.28-.17.14-.23.4-1.08.06-.65-.31-1.53-.31s-.39.28-1,.28-1.1-.11-1.15-.31c-.31.19-1,0-1.56,0l-.21.17c-.27,0-.62-.21-1-.25-1-.12-1.52.1-1.71-.16l-.52,0c.21.09.38.19.26.38a10.37,10.37,0,0,1,2.13.2c-1,.08-3,.29-3.31-.1.19-.06.72,0,.6-.17s-.48-.13-1-.13v-.12l-.5,0a1.45,1.45,0,0,1-.36-.09,8,8,0,0,0-1.48.16c0,.33,1.12,0,1.74.2-1,.24-1.95-.12-3.12,0-.76-.06.66-.21,0-.23s-1.28.11-2,.14c-.09.16.72.07.77.19-.36.17-1-.05-1.56,0-1.3.52-3.53-.2-5.68.27l-.11,0c-.46.07-.91.13-1.38.16-.67.05-1.5,0-2.31,0a2,2,0,0,0,.27,0,5.75,5.75,0,0,1-1.59.45c-.86-.05-1.08-.28-1.29-.51h-.32c-.19.06-.13.19.06.25a25.23,25.23,0,0,1-5.85,0,11.27,11.27,0,0,1-4.33.52c-.1-.23,1.35,0,1.19-.22-.67-.19-1.69.21-2.14-.08a21.14,21.14,0,0,0,2.08-.46H213.8a4.73,4.73,0,0,1-2.36.26A114.8,114.8,0,0,1,199,28.48a3.26,3.26,0,0,1-1.19.27c.36-.26.28-.22-.16-.47-.73,0-1.1.13-1.77.15-.06.18.52.37-.22.41.18-.42-2.49-.42-4.26-.47-.08.14-.22.25-.61.28a13.22,13.22,0,0,0-2.52-.21c.21.19-.32.14-.41.23-1.29-.45-3.72-.23-5.22-.36-2.87,0-5.74,0-8.6,0,.22,0,.38.06.38.13-.64-.07-2.09.1-2.13-.14h-.57a1.45,1.45,0,0,1-.61.11c.31,0,.62.06,1,.06,0,.31-1.89.15-1.95,0l.19,0h-.18l-1,0h0a5.36,5.36,0,0,1-1.84,0l-1,0a.79.79,0,0,0-.32.13,2.43,2.43,0,0,0-.43-.12h-5.07a25,25,0,0,1-3.47,0c-.24.2-1.1.2-1.39.39l-9.39.22a.58.58,0,0,1-.35-.1h-3.23l.07.06a3.85,3.85,0,0,1-1,0l0-.1s-8.18,0-9,0a65.55,65.55,0,0,1-6.87,0c-1.66-.07-3.65,0-5.32,0H109c-1.58,0-3.85.09-5.36,0-1.75-.11-2.71-.39-4.65-.41-1.24,0-9.5.11-9.56.39a16.32,16.32,0,0,0-3.59.33c-1.37.13-3.25.05-4.73,0a7.2,7.2,0,0,1-3.6-.6,6.66,6.66,0,0,0-2.88-.38c-3.43,0-6.51.38-10,.38H55.77q-12.9,0-25.8,0c-3.28,0-6.07-.21-9.45-.21-2.07,0-4.22,0-6.14-.2-.76-.08-1.47-.22-2.25-.32L12,27.89l-.22,0c-.32,0-.64-.06-1-.07.12,0-2.13-.71-2.08-.77s2.58-.48,3-.55c-.31-.1,0-.16-.22-.28l.33-.11c.4,0-.26.17.11.18s.07-.26.88-.25a1.6,1.6,0,0,0,.33.07c0,.1-.43,0-.33.15.72.14,4-.32,2.42-.43.27-.16-8.2-.71-7.84-.84-1-1.53.55-1.93-1.47-3.13-2.21,0,2.7-.55.37-.61,0,.05-.18,0-.27.06A1,1,0,0,0,5.75,21c.14-.1.13.06.35,0-.07-.11-.16-.26-.07-.39,1.76,0-2.11-.94-.43-.91-1.44-1,2.57-.9.8-1.79l0-.17-.39,0-.22-.11c0-.11-.16-.18-.15-.3.39,0,.2.19.68.17-.09-.6.34-1.18-.79-1.43.56-.19.46-.51.31-.8-.66,0-.31-.36-.76-.45,0-.09.19-.09.44-.08-.12-.11-.17-.2-.6-.14.06-.17.25-.3.71-.34l0-.2c.5.12.73.25.81.4-.22.05-.33.2-.17.28h.16l0,.1.27,0c-.1,0-.21,0-.22.05.45.26.11.6-.22.83,0,.09.23.12.36.17a3.68,3.68,0,0,1,.25-.54c.1-.2-.08-.42,0-.61s.43-.23.5-.34a1.83,1.83,0,0,0,.26-.89,3.34,3.34,0,0,0-.3-1.12v0a1,1,0,0,1,0-.87c.06-.1.39-.23.49-.33s.19-.32.32-.47a6.88,6.88,0,0,1,.68-.62c-.23,0-.53,0-.81,0,0,.14.1.29-.43.25.06-.21.31-.18.43-.32A3.54,3.54,0,0,0,9,10l.21-.17a2,2,0,0,0,.38-.4A2,2,0,0,0,9,9.4c0-.1.23-.09.44-.11l.14,0c.31-.55,0-1.13-.16-1.73-.06-.21.06-.35.1-.53s-.12-.23-.06-.35l.32-.14A3.38,3.38,0,0,0,10.28,6L8.94,5.85c.14,0,.18,0,.17,0,.39,0,.83.07,1.27.1l.13-.23c.06-.14,0-.35.09-.47S11,5.12,11,5s-.18-.3,0-.47.65-.38,1-.61l-.21-.11a1.39,1.39,0,0,1,.32,0l.15-.13c.08-.09.3-.11.36-.21l-.1-.28.21-.18-.1-.27.11-.15,0,0h0a3.22,3.22,0,0,1,1-.61c.63-.28.35-.08,1,0,.41,0,.86,0,1.28,0h.35l0,0,.37,0c.73,0,1.47-.07,2.21-.09a12.12,12.12,0,0,0,2.44.08A7,7,0,0,1,24,1.52a19,19,0,0,0,2.32.15c.94,0,1.89-.1,2.71-.18l.39,0L29.2,1.4c.11-.25,0-.3.17-.52C30.46.83,31.68.79,32.55.83c-.19,0-.23-.1-.18-.2,2-.29,4.28.08,6.62.14,0-.08.14-.13.31-.16l.07,0c.32,0,.74-.08,1.17-.1a4.42,4.42,0,0,0,.74.19c.07.11.42.11.75.07s.86,0,1.31,0a1.41,1.41,0,0,1,.34.1,16.84,16.84,0,0,0,2-.2h.08c.42.13,1.1,0,1.18.18A1.51,1.51,0,0,0,47.3.74l.36.07c0,.06-.06.1-.15.12h10l.72,0c.13,0,.16,0,.15,0H76.54A6.09,6.09,0,0,1,79,.92L78.3,1H85c.9,0,1.78,0,2.65,0a2,2,0,0,0,.59-.09c.23,0,.33,0,.37.06l.78,0L89.34.78a7.58,7.58,0,0,1,.76.06C91.6.77,93.33.76,94.88.71c3-.1,6-.23,9.17-.22h4.27c-.1-.12.2-.1.15-.2.69,0,1.24-.07,1.91-.1-.44.16.35.21.13.32h1c.25-.09.59-.14.88-.21a1.34,1.34,0,0,1,.73.21h.39l0,0a17.61,17.61,0,0,1,4.06,0,7.89,7.89,0,0,1,3-.36c.07.16-.94,0-.82.15.46.13,1.17-.14,1.48.06-.34.12-1,.14-1.36.27h1.07a3.25,3.25,0,0,1,1.5-.13,76.94,76.94,0,0,1,8.66.08,2.16,2.16,0,0,1,.83-.19c-.25.18-.2.15.11.32.51,0,.76-.08,1.23-.1,0-.12-.36-.25.15-.28-.12.29,1.73.29,3,.32.05-.09.15-.17.42-.19a8.71,8.71,0,0,0,1.75.14c-.15-.13.22-.09.28-.16a9.29,9.29,0,0,0,2.49.22h6.89L148.13.6a10.25,10.25,0,0,1,1.44.05h2.6l-.38,0c.44-.2,1.86.13,2.18-.13,1.21.42,4.17-.11,6.22.08.17-.14.77-.14,1-.27l5.06-.12h0c.33,0,.7,0,1,0h.46c.28,0,.26.12.4.17a2.41,2.41,0,0,1,.81-.07c0,.14-.11.16.67.21a2.81,2.81,0,0,1-1,.23c0,.11.49.07.7.12C170.13.73,171,.67,172,.68c1.44,0,2.59-.11,4-.1h5.44a6.94,6.94,0,0,0-.73-.06l.84,0a1.92,1.92,0,0,0,.67.09h13.65c.82,0,2-.06,2.77,0,.37,0,.51.14.85.19h0a13.35,13.35,0,0,1,4.21.19c.46-.39,2.5.09,3.14-.19-2.05-.33-4.48-.14-6.24-.26L213,.59s4,.09,7.69.15c.48,0,1,0,1.58,0l1.07,0a8.1,8.1,0,0,1,2.15.29c.09-.09.62,0,.41-.23h.36a3.12,3.12,0,0,0,1,.05c.4,0,.73.12,1.16.16s.48-.11.56-.22l.94,0c1.62,0,3.43.09,3.36.43h.16c.48-.06,0-.23.07-.39.67,0,1-.14,1.77-.15.44.25.52.21.16.47a3.26,3.26,0,0,0,1.19-.27l2,.07.8,0a82,82,0,0,0,9.67,0c2.33.22,2.08-.62,3.94-.36-.21.36-1.6.33-2.19.55.45.29,1.47-.1,2.14.09.16.25-1.29,0-1.19.22A11.27,11.27,0,0,0,256.16,1a6.74,6.74,0,0,0,.91.12c-.15,0-.24.09-.17.19.67-.06,1.37,0,2,0a3.43,3.43,0,0,1,.46-.11c.5,0,1.24.16,1.84.13.43,0,.45-.22,1-.16a.94.94,0,0,1,.25-.23,1,1,0,0,0,.32.19h0a2.33,2.33,0,0,0,.81.16l.55-.12c.77,0,1.55,0,2.16-.06.19.09.66.17.2.34l1.31-.07a31.47,31.47,0,0,0,4.07.13l.25.08c-1.49.07-3-.09-4.67.1,3.55.53,5.94,0,9.53.37-.49-.27.11-.46.64-.57a19.63,19.63,0,0,0,2.52.15,9.31,9.31,0,0,0-3.3-.28c.39.52-1.75.23-2.37.43-.52-.06-.46-.29-.95-.36l-.48.07-.14-.07c.28-.09.63-.32.1-.41.62-.15,1.91.13,2.17-.12A18,18,0,0,0,272,.6l.29-.06a7,7,0,0,0,1.54,0,8.4,8.4,0,0,0,1.27-.08,1.8,1.8,0,0,0,.7,0l0,.06a7.17,7.17,0,0,0,1.49-.12c.23,0,.31.09.35.18,1,0,2.44,0,2.5-.24h0v0c.44,0,.09.15.13.26.39,0,.6.09,1,.1l0,0a11.52,11.52,0,0,0,3.1,0,1.37,1.37,0,0,0-.68-.13c1.33,0,2.66-.09,3.86-.06l.54.07a.65.65,0,0,0,.29,0c.35,0,.69,0,1,.08,1.38-.13,1.22.4,2.31.24-.09-.18-.65-.21-1-.29L291,.3a2.38,2.38,0,0,0,.84,0c.1-.15-.76,0-.7-.14a6.22,6.22,0,0,1,2.55.35,7.8,7.8,0,0,1,1.65-.1,11,11,0,0,0,1.5.15L296.73.5l.36,0c-.15,0-.17.19.12.19a.87.87,0,0,1,.64-.32.92.92,0,0,0,.51.07h0a1.65,1.65,0,0,1,.56.2c-.64,0-.62.23-.67.37-.68.08-.45-.27-.93-.14-1.3.56,2.26.37,3,.2A7.12,7.12,0,0,1,298.6.82c1.07-.08,1.49.27,2.77.24.1-.15-.64,0-.58-.15s.06-.1.22-.11a5.24,5.24,0,0,0,1.57.1c-.12,0-.12.14-.37.15,0,.13.83,0,1.17.08-.2-.08-.19-.22-.59-.24a3.69,3.69,0,0,1,1.57.11c.3,0,.71-.12.92,0,0,.08-.51,0-.46.11l1.16.11c.38,0-.46-.11,0-.15.69.09,1.25-.13,1.84,0-.37.11-1-.09-1,.12l.1,0a1.39,1.39,0,0,0-.4.24,10.74,10.74,0,0,0,1.13.15l.09.08a4.32,4.32,0,0,0-1.15.15l-.17,0c.05.23.24.47.21.72.1.06.4.05.43.13h0a5.67,5.67,0,0,0,.62.12c.59-.14,1.06-.24.82-.48a1.93,1.93,0,0,1-.27,0c-.06.06-.45.23-.28.22-.29.11-.8.09-.81-.09.28,0,.43,0,.41-.08s-.36.06-.54,0c.14-.05.14-.16.28-.21s.27,0,.26.13c.24-.06.18-.21.55-.22-.16,0-.9-.07-.8-.3a2.41,2.41,0,0,1,.5.06v0h.1c.46.1.94.22,1.14,0l0,0,.24.13h-.47c0,.07-.37.24-.1.29s.59-.07,1-.1l.19.08.15,0h-.75a1.69,1.69,0,0,1-.68.26c.34,0,.49.09.81.11a6.53,6.53,0,0,0,1.3-.12l.24.12a6,6,0,0,0-1.55.22';\r\n  const prefix = 'data:image/svg+xml;charset=UTF-8,';\r\n  const color = backgroundColor; //#72bf44\r\n  const svg = `<svg preserveAspectRatio=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewPort=\"0 0 5mm 5mm\" viewBox=\"0 0 311.24 29.76\"><defs><style>.cls-1{fill:${color};}</style></defs><title>border</title><g id=\"Réteg_2\" data-name=\"Réteg 2\"><g id=\"Réteg_1\" data-name=\"Réteg 1\"><path class=\"cls-1\" d=\"${d}\"/></g></g></svg>`;\r\n  const url = prefix + window.encodeURIComponent(svg);\r\n  return url;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { borderUrl } from './BorderHelper';\r\n\r\n// const randomTestElement = (v: string[]): string => {\r\n//   return v[Math.floor(Math.random() * v.length)];\r\n// };\r\n\r\n// const testTitles = [\r\n//   'Tojásleves gazdagon',\r\n//   'Zöldségleves',\r\n//   'Tárkonyos raguleves',\r\n//   'Lencsefőzelék',\r\n//   'Chilis bab',\r\n//   'Palacsinta',\r\n//   'Paradicsomleves',\r\n//   'Paprikás krumpli',\r\n//   'Bolognai spagetti',\r\n//   'Gyümölcsleves',\r\n//   'Tejbegríz',\r\n//   'Brassói',\r\n// ];\r\n// const testColors = ['#72bf44', '#5c3896', '#f39200', '#0075bf', '#da0812', '#5b2919', '#009a93'];\r\n\r\nfunction margin(align: string | undefined): string {\r\n  switch (align) {\r\n    case 'right':\r\n      return '0 0 0 auto';\r\n    case 'left':\r\n      return '0 auto 0 0';\r\n    case 'center':\r\n    default:\r\n      return 'auto';\r\n  }\r\n}\r\n\r\nexport class Border extends Component<{ backgroundColor: string; align?: 'left' | 'center' | 'right' }> {\r\n  render(): JSX.Element {\r\n    return (\r\n      <div>\r\n        <div\r\n          style={{\r\n            backgroundImage: `url(${borderUrl(this.props.backgroundColor)})`,\r\n            width: 'fit-content',\r\n            backgroundSize: 'contain',\r\n            backgroundRepeat: 'no-repeat',\r\n            // margin: '20px',\r\n            margin: `${margin(this.props.align)}`,\r\n          }}\r\n        >\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class HeaderBorder extends Component<{\r\n  text: string;\r\n  backgroundColor: string;\r\n  fontSize: number;\r\n  align?: 'left' | 'center' | 'right';\r\n}> {\r\n  render(): JSX.Element {\r\n    return (\r\n      <Border align={this.props.align} backgroundColor={this.props.backgroundColor}>\r\n        <p\r\n          style={{\r\n            margin: '0 20px 0 20px',\r\n            padding: '10px 0 15px 0',\r\n            color: 'white',\r\n            fontFamily: 'Patrick Hand',\r\n            fontSize: `${this.props.fontSize}px`,\r\n          }}\r\n        >\r\n          {this.props.text}\r\n        </p>\r\n      </Border>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Typography from '@material-ui/core/Typography/Typography';\r\nimport Container from '@material-ui/core/Container/Container';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n// import Fade from 'react-bootstrap/Fade';\r\n\r\nimport { Border, HeaderBorder } from '../components/Border/Border';\r\nimport { AppContext } from 'services/AppContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  header: {\r\n    marginTop: theme.spacing(5),\r\n    padding: theme.spacing(2, 5),\r\n    color: 'white',\r\n    fontFamily: 'Patrick Hand',\r\n  },\r\n  heroContent: {\r\n    // backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(4, 0, 6),\r\n  },\r\n}));\r\n\r\n// enum PageStatus {\r\n//   START,\r\n//   FIRST_FETCHING,\r\n//   LOADING,\r\n//   SUCCESS,\r\n//   ERROR,\r\n// }\r\n\r\nenum PageStatus {\r\n  START,\r\n  FETCHING,\r\n  SUCCESS,\r\n  ERROR,\r\n}\r\n\r\nconst Homepage: React.FC = () => {\r\n  React.useEffect(() => {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (window as any).sendPageView('Kezdőoldal');\r\n  }, []);\r\n  const appContext = React.useContext(AppContext);\r\n\r\n  // const inputRef = React.useRef(null);\r\n  const [inputValue, setInputValue] = React.useState<string>('');\r\n  const [errorMessage, setErrorMessage] = React.useState<string>('');\r\n  const initPageStatus = appContext && appContext.appConstants ? PageStatus.SUCCESS : PageStatus.START;\r\n  const [pageStatus, setPageStatus] = React.useState<PageStatus>(initPageStatus);\r\n  const [isLoadingDemoLink, setIsLoadingDemoLink] = React.useState<boolean>(false);\r\n  const [isValidationErrorVisible, setIsValidationErrorVisible] = React.useState<boolean>(false);\r\n  const buttonRef = React.useRef<HTMLButtonElement & Button>(null);\r\n\r\n  const classes = useStyles();\r\n\r\n  const demoSpreadsheetLink =\r\n    'https://docs.google.com/spreadsheets/d/14m9QUg6EUBP7Nxz_1DyfnSRy3akgjcz6nZYKMpPVkL4/edit#gid=1773205140';\r\n  const loadDemo = (event: React.MouseEvent<HTMLAnchorElement>): void => {\r\n    event.preventDefault();\r\n    setInputValue(demoSpreadsheetLink);\r\n    setIsValidationErrorVisible(false);\r\n    setIsLoadingDemoLink(true);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (isLoadingDemoLink) {\r\n      if (buttonRef !== null && buttonRef.current !== null) {\r\n        buttonRef.current.click();\r\n        buttonRef.current.focus();\r\n      }\r\n      setIsLoadingDemoLink(false);\r\n    }\r\n  }, [isLoadingDemoLink]);\r\n\r\n  const regExp = new RegExp(/^https:\\/\\/docs.google.com\\/spreadsheets\\/d\\/(.+)\\/edit#gid=(\\d+)$/);\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\r\n    setInputValue(event.target.value);\r\n    const matches = event.target.value.match(regExp);\r\n    setIsValidationErrorVisible(!matches);\r\n  };\r\n\r\n  const submit = (/*event: React.MouseEvent<HTMLButtonElement>*/): void => {\r\n    const data = inputValue.match(regExp);\r\n    if (data && data.length >= 2) {\r\n      // console.log(data);\r\n      setPageStatus(PageStatus.FETCHING);\r\n      if (appContext) {\r\n        (async function(): Promise<void> {\r\n          await appContext.initializeApp({\r\n            spreadsheetId: data[1],\r\n            gid: data[2],\r\n            onError: _errorMessage => {\r\n              console.log('Hiba: ', _errorMessage);\r\n              setErrorMessage(_errorMessage);\r\n              setPageStatus(PageStatus.ERROR);\r\n            },\r\n          });\r\n          setPageStatus(PageStatus.SUCCESS);\r\n          // console.log('A cím: ', fetchedTitle);\r\n        })();\r\n      }\r\n      // if (pageStatus !== PageStatus.FIRST_FETCHING && pageStatus !== PageStatus.LOADING) {\r\n      // setPageStatus(PageStatus.START);\r\n      // const data = inputValue.match(regExp);\r\n      // if (data && data.length >= 2) {\r\n      //   // console.log(data);\r\n      //   (async function(): Promise<void> {\r\n      //     let tries = 1;\r\n      //     const maxTries = 3;\r\n      //     const wait = async (ms: number): Promise<void> => new Promise(resolve => setTimeout(resolve, ms));\r\n      //     let shouldEnd = false;\r\n      //     setPageStatus(PageStatus.FIRST_FETCHING);\r\n      //     do {\r\n      //       console.log(`try #${tries} with pageStatus ${pageStatus}`);\r\n      //       try {\r\n      //         await contextValue.init({\r\n      //           spreadsheetId: data[1],\r\n      //           gid: data[2],\r\n      //           onStart: title => {\r\n      //             if (title) {\r\n      //               console.log('The title is: ', title);\r\n      //               setTitle(title);\r\n      //               setPageStatus(PageStatus.LOADING);\r\n      //             }\r\n      //           },\r\n      //         });\r\n      //         setPageStatus(PageStatus.SUCCESS);\r\n      //         shouldEnd = true;\r\n      //         // console.log(result);\r\n      //       } catch (e) {\r\n      //         if (tries < maxTries) {\r\n      //           console.log('Error during fetching. Try again.', e);\r\n      //           // console.log(e);\r\n      //           await wait(1000);\r\n      //         } else {\r\n      //           console.log('End with error.');\r\n      //           shouldEnd = true;\r\n      //           setPageStatus(PageStatus.ERROR);\r\n      //         }\r\n      //       }\r\n      //     } while (++tries <= maxTries && pageStatus !== PageStatus.SUCCESS && !shouldEnd);\r\n      //     console.log('loop end');\r\n      //   })();\r\n      // }\r\n    }\r\n  };\r\n\r\n  const valueBasedOnPageStatus = <T extends unknown>(values: T[]): T => {\r\n    return values[pageStatus];\r\n  };\r\n\r\n  const Details: React.FC = () =>\r\n    pageStatus !== PageStatus.START ? (\r\n      <>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          <HeaderBorder\r\n            backgroundColor={valueBasedOnPageStatus<string>([\r\n              '', // nem fordul elő\r\n              '#f39200',\r\n              '#76b82a',\r\n              '#da0812',\r\n            ])}\r\n            text={valueBasedOnPageStatus<string>([\r\n              '', // nem fordul elő\r\n              `Betöltés...`,\r\n              `\"${appContext?.appConstants?.title}\" sikeresen betöltve!`,\r\n              `Hiba!`,\r\n            ])}\r\n            fontSize={22}\r\n          />\r\n        </Typography>\r\n        {pageStatus === PageStatus.ERROR ? <>{errorMessage}</> : <></>}\r\n      </>\r\n    ) : (\r\n      <></>\r\n    );\r\n\r\n  return (\r\n    <>\r\n      <Container maxWidth=\"sm\">\r\n        <div className={classes.heroContent}>\r\n          <Border backgroundColor=\"#158e30\">\r\n            <Typography\r\n              className={classes.header}\r\n              component=\"h1\"\r\n              variant=\"h4\"\r\n              align=\"center\"\r\n              color=\"textPrimary\"\r\n              gutterBottom\r\n            >\r\n              Élelmezési terv\r\n            </Typography>\r\n          </Border>\r\n          <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\r\n            Itt tudod betölteni a <b>szabályos</b> formátumú élelmezési tervedet. További információért olvasd el az{' '}\r\n            <Link to=\"/utmutato\">útmutatót!</Link>\r\n          </Typography>\r\n          <InputGroup className=\"mb-1\">\r\n            <FormControl\r\n              // ref={inputRef}\r\n              value={inputValue}\r\n              onChange={handleChange}\r\n              placeholder=\"Google táblázat linkje\"\r\n              aria-label=\"Google táblázat linkje\"\r\n              aria-describedby=\"basic-addon2\"\r\n            />\r\n            <InputGroup.Append>\r\n              <Button ref={buttonRef} onClick={submit} variant=\"outline-secondary\">\r\n                Betöltés\r\n              </Button>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n          <p\r\n            className=\"text-danger mb-0\"\r\n            style={{ textAlign: 'justify', visibility: isValidationErrorVisible ? 'visible' : 'hidden' }}\r\n          >\r\n            A beillesztett linknek a {`'https://docs.google.com/spreadsheets/d/(...)/edit#gid=(...)'`} formátumot kell\r\n            követni.\r\n          </p>\r\n          <p className=\"text-muted\" style={{ textAlign: 'justify' }}>\r\n            <a href=\"/\" onClick={loadDemo}>\r\n              Ide kattintva\r\n            </a>{' '}\r\n            kipróbálhatod az alkalmazást egy minta táblázat betöltésével.\r\n          </p>\r\n          <Details />\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography/Typography';\r\nimport Container from '@material-ui/core/Container/Container';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport { AppContext } from 'services/AppContext';\r\n\r\nimport { HeaderBorder } from '../components/Border/Border';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  header: {\r\n    marginTop: theme.spacing(5),\r\n    padding: theme.spacing(2, 5),\r\n    color: 'white',\r\n    fontFamily: 'Patrick Hand',\r\n  },\r\n  heroContent: {\r\n    // backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 2),\r\n  },\r\n}));\r\n\r\nconst NewRecipe: React.FC = () => {\r\n  React.useEffect(() => {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (window as any).sendPageView();\r\n  }, []);\r\n  const appContext = React.useContext(AppContext);\r\n  const classes = useStyles();\r\n  const [height] = React.useState<string>('2700px');\r\n  const iframeRef = React.useRef<HTMLIFrameElement>(null);\r\n\r\n  // React.useEffect(() => {\r\n  //   console.log(iframeRef.current?.contentWindow?.scrollY);\r\n  //   if (iframeRef) setHeight(`${iframeRef.current?.contentWindow?.scrollY}px`);\r\n  //   // obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';\r\n  // });\r\n\r\n  // const handleLoad = (event: React.SyntheticEvent<HTMLIFrameElement, Event>): void => {\r\n  //   // if (iframeRef && iframeRef.current) console.log(iframeRef.current.contentWindow?.document.body.scrollHeight);\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      <Container maxWidth=\"sm\">\r\n        <div className={classes.heroContent}>\r\n          <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n            <HeaderBorder backgroundColor=\"#76b82a\" text={`Új recept rögzítése`} fontSize={30} />\r\n            {/* Ételek {currentPage} */}\r\n          </Typography>\r\n          <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\r\n            Ügyelj a pontosságra!\r\n          </Typography>\r\n        </div>\r\n      </Container>\r\n      <iframe\r\n        id=\"iframe\"\r\n        ref={iframeRef}\r\n        src={appContext?.appConstants?.newRecipeFormUrl + '?embedded=true'}\r\n        // width=\"640\"\r\n        // height=\"2082\"\r\n        width=\"100%\"\r\n        height={height}\r\n        // height=\"100%\"\r\n        frameBorder=\"0\"\r\n        marginHeight={0}\r\n        marginWidth={0}\r\n        // onLoad={handleLoad}\r\n        title=\"Új recept hozzáadása\"\r\n      >\r\n        Betöltés…\r\n      </iframe>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NewRecipe;\r\n","import React from 'react';\r\n\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Grid from '@material-ui/core/Grid/Grid';\r\nimport MPagination from '@material-ui/lab/Pagination';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  pagination: {\r\n    padding: theme.spacing(3, 0, 3),\r\n  },\r\n}));\r\n\r\nconst Pagination: React.FC<{\r\n  currentPage: number;\r\n  numOfPages: number;\r\n  onChange: (event: React.ChangeEvent<unknown>, page: number) => void;\r\n}> = props => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid className={classes.pagination} container direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n      <MPagination page={props.currentPage} onChange={props.onChange} color=\"primary\" count={props.numOfPages} />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\n\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Container from '@material-ui/core/Container/Container';\r\nimport Grid from '@material-ui/core/Grid/Grid';\r\nimport Card from '@material-ui/core/Card/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent/CardContent';\r\nimport Typography from '@material-ui/core/Typography/Typography';\r\nimport CardActions from '@material-ui/core/CardActions/CardActions';\r\nimport Button from '@material-ui/core/Button/Button';\r\nimport Skeleton from '@material-ui/lab/Skeleton/Skeleton';\r\n\r\nimport { Recipe } from 'interfaces/Recipe';\r\nimport Pagination from './Pagination';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\ntype RecipeGridProps = {\r\n  isLoading: boolean;\r\n  recipes: Recipe[];\r\n  recipesPerPage: number;\r\n};\r\n\r\nconst RecipeGrid: React.FC<RecipeGridProps> = props => {\r\n  const [currentPage, setCurrentPage] = React.useState<number>(1);\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (_event: React.ChangeEvent<unknown>, value: number): void => {\r\n    setCurrentPage(value);\r\n  };\r\n\r\n  const ConfiguredPagination: React.FC = () => (\r\n    <Pagination\r\n      currentPage={currentPage}\r\n      numOfPages={Math.ceil(props.recipes.length / props.recipesPerPage)}\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <Container className={classes.cardGrid} maxWidth=\"md\">\r\n      {/* End hero unit */}\r\n      <ConfiguredPagination />\r\n      <Grid container spacing={4}>\r\n        {!props.isLoading ? (\r\n          <>\r\n            {props.recipes\r\n              .slice(\r\n                (currentPage - 1) * props.recipesPerPage,\r\n                (currentPage - 1) * props.recipesPerPage +\r\n                  Math.min(props.recipes.length - (currentPage - 1) * props.recipesPerPage, props.recipesPerPage),\r\n              )\r\n              .map(recipe => (\r\n                <Grid item key={recipe.addDate} xs={12} sm={6} md={4}>\r\n                  <Card className={classes.card}>\r\n                    <CardMedia className={classes.cardMedia} image={recipe.imageLink} title={recipe.name} />\r\n                    <CardContent className={classes.cardContent}>\r\n                      <Typography style={{ fontFamily: 'Patrick Hand' }} gutterBottom variant=\"h5\" component=\"p\">\r\n                        {/* {randomTestElement(testTitles)} */}\r\n                        {recipe.name}\r\n                      </Typography>\r\n                      {/* <Typography>This is a media card. You can use this section to describe the content.</Typography> */}\r\n                    </CardContent>\r\n                    <CardActions>\r\n                      <Link to={`/recept/${recipe.name}`} style={{ textDecoration: 'none', width: '100%' }}>\r\n                        <Button fullWidth={true} size=\"small\" color=\"primary\">\r\n                          Megtekintés\r\n                        </Button>\r\n                      </Link>\r\n                      {/* <Button size=\"small\" color=\"primary\">Edit</Button> */}\r\n                    </CardActions>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {Array.apply(0, Array(6)).map((el, index) => (\r\n              <Grid item key={index} xs={12} sm={6} md={4}>\r\n                <Skeleton variant=\"rect\" height={121 * 1.21 * 1.21 * 1.21} />\r\n                <Skeleton animation=\"wave\" />\r\n                <Skeleton animation=\"wave\" />\r\n                <Skeleton animation=\"wave\" />\r\n              </Grid>\r\n            ))}\r\n          </>\r\n        )}\r\n        <ConfiguredPagination />\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default RecipeGrid;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport { HeaderBorder } from '../components/Border/Border';\r\nimport RecipeGrid from 'components/Recipes/RecipeGrid';\r\nimport fetchSpreadsheet from 'services/fetchSpreadsheet';\r\nimport { AppContext } from 'services/AppContext';\r\nimport { Recipe } from 'interfaces/Recipe';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    padding: theme.spacing(8, 0, 2),\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nconst RecipeList: React.FC = () => {\r\n  React.useEffect(() => {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (window as any).sendPageView();\r\n  }, []);\r\n  const appContext = React.useContext(AppContext);\r\n\r\n  const [recipes, setRecipes] = React.useState<Recipe[]>([]);\r\n  const [isLoading, setIsLoading] = React.useState<boolean>(true);\r\n\r\n  const RECIPES_PER_PAGE = 9;\r\n\r\n  React.useEffect(() => {\r\n    let mounted = true;\r\n    // const spreadsheetId = '14m9QUg6EUBP7Nxz_1DyfnSRy3akgjcz6nZYKMpPVkL4';\r\n    // const gid = '1653810923';\r\n    const query = `select A, B, H, L, M where B is not null and M = TRUE order by A desc label B 'Lehetséges ételek'`;\r\n    const headers = 1;\r\n\r\n    (async (): Promise<void> => {\r\n      // const table = await fetchSpreadsheet(query, spreadsheetId, gid, headers);\r\n      if (appContext && appContext.appConstants) {\r\n        const table = await fetchSpreadsheet(\r\n          query,\r\n          appContext.appConstants.spreadsheetId,\r\n          appContext.appConstants.tableIds.recipesSheet,\r\n          headers,\r\n        );\r\n        if (!mounted) return;\r\n        const recipes: Recipe[] = [];\r\n        table.forEach(row => {\r\n          recipes.push({\r\n            addDate: row[0],\r\n            name: row[1],\r\n            imageLink: row[2],\r\n          });\r\n        });\r\n        setRecipes(recipes);\r\n        setIsLoading(false);\r\n      }\r\n    })();\r\n\r\n    return (): void => {\r\n      mounted = false;\r\n    };\r\n  }, [appContext]);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      {/* Hero unit */}\r\n      <div className={classes.heroContent}>\r\n        <Container maxWidth=\"sm\">\r\n          <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n            <HeaderBorder backgroundColor=\"#5c3896\" text={`Cserkésztábori ételek`} fontSize={30} />\r\n            {/* Ételek {currentPage} */}\r\n          </Typography>\r\n          <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\r\n            Itt találod mindazokat a recepteket, amelyek az élelmezési tervedben szerepelnek. További információért\r\n            olvasd el az <Link to=\"/utmutato\">útmutatót!</Link>\r\n          </Typography>\r\n          <div className={classes.heroButtons}>\r\n            <Grid container spacing={2} justify=\"center\">\r\n              <Grid item>\r\n                <Link to=\"/uj-recept\" style={{ textDecoration: 'none' }}>\r\n                  <Button variant=\"outlined\" color=\"primary\">\r\n                    Új étel rögzítése\r\n                  </Button>\r\n                </Link>\r\n              </Grid>\r\n              {/* <Grid item>\r\n                <Button variant=\"outlined\" color=\"primary\">\r\n                  Secondary action\r\n                </Button>\r\n              </Grid> */}\r\n            </Grid>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n      <RecipeGrid isLoading={isLoading} recipes={recipes} recipesPerPage={RECIPES_PER_PAGE} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RecipeList;\r\n","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography/Typography';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nimport { HeaderBorder } from '../Border/Border';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  header: {\r\n    marginLeft: theme.spacing(-3),\r\n  },\r\n  text: {\r\n    fontFamily: 'Titillium Web',\r\n    marginBottom: '30px',\r\n  },\r\n}));\r\n\r\nexport const Paragraph: React.FC<{ title: string; backgroundColor: string }> = props => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Typography className={classes.header} variant=\"h3\" gutterBottom>\r\n        <HeaderBorder align=\"left\" backgroundColor={props.backgroundColor} text={props.title} fontSize={22} />\r\n      </Typography>\r\n      <Typography className={classes.text} variant={'body1'} align=\"justify\" component=\"div\">\r\n        {props.children}\r\n      </Typography>\r\n    </>\r\n  );\r\n};\r\n","const units = [\r\n  'g',\r\n  'dkg',\r\n  'kg',\r\n  'ml',\r\n  'dl',\r\n  'l',\r\n  'teáskanál',\r\n  'evőkanál',\r\n  'kávéskanál',\r\n  'mokkáskanál',\r\n  'db',\r\n  'szem',\r\n  'fej',\r\n  'konzerv',\r\n  'csomag',\r\n];\r\n\r\ninterface Ingredient {\r\n  name: string;\r\n  amount: number;\r\n  unit: string;\r\n}\r\n\r\ninterface GetIngredients {\r\n  ingredients: Ingredient[];\r\n  incorrectIngredients: string[];\r\n}\r\n\r\nconst rowRegExp = new RegExp(`^(\\\\d+\\\\.?\\\\d*) (${units.join('|')}) (.+)$`);\r\n\r\nexport function getIngredients(ingredientsCellValue: string): GetIngredients {\r\n  const ingredientsList = ingredientsCellValue.split('\\n');\r\n  const result: GetIngredients = { ingredients: [], incorrectIngredients: [] };\r\n  ingredientsList.forEach(row => {\r\n    const matches = row.match(rowRegExp);\r\n    if (matches && matches.length === 4)\r\n      result.ingredients.push({\r\n        amount: +matches[1],\r\n        unit: matches[2],\r\n        name: matches[3],\r\n      } as Ingredient);\r\n    else result.incorrectIngredients.push(row);\r\n  });\r\n  return result;\r\n  // return ingredients;\r\n}\r\n\r\n// FIXME: Az alábbiakra nem vagyok büszke.\r\n\r\nfunction simplifyWeight(amount: number, unit: string, precision: number): string {\r\n  if (unit === 'g') {\r\n    if (10 <= amount) return simplifyWeight(amount / 10, 'dkg', precision);\r\n  } else if (unit === 'dkg') {\r\n    if (amount < 1) return simplifyWeight(amount * 10, 'g', precision);\r\n    else if (100 <= amount) return simplifyWeight(amount / 100, 'kg', precision);\r\n  } else if (unit === 'kg') {\r\n    if (amount < 1) return simplifyWeight(amount * 100, 'dkg', precision);\r\n  }\r\n  return `${parseFloat(amount.toFixed(precision))} ${unit}`;\r\n}\r\n\r\nfunction simplifyVolume(amount: number, unit: string, precision: number): string {\r\n  if (unit === 'ml') {\r\n    if (10 <= amount) return simplifyWeight(amount / 100, 'dl', precision);\r\n  } else if (unit === 'dl') {\r\n    if (amount < 1) return simplifyWeight(amount * 100, 'ml', precision);\r\n    else if (10 <= amount) return simplifyWeight(amount / 10, 'l', precision);\r\n  } else if (unit === 'l') {\r\n    if (amount < 1) return simplifyWeight(amount * 10, 'dl', precision);\r\n  }\r\n  return `${parseFloat(amount.toFixed(precision))} ${unit}`;\r\n}\r\n\r\nexport function simplifyUnit(amount: number, unit: string, precision = 3): string {\r\n  if (unit === 'g' || unit === 'dkg' || unit === 'kg') return simplifyWeight(amount, unit, precision);\r\n  else if (unit === 'ml' || unit === 'dl' || unit === 'l') return simplifyVolume(amount, unit, precision);\r\n  else return `${parseFloat(amount.toFixed(precision))} ${unit}`;\r\n}\r\n","import React from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport Typography from '@material-ui/core/Typography/Typography';\r\nimport Container from '@material-ui/core/Container/Container';\r\nimport { HeaderBorder } from 'components/Border/Border';\r\nimport { Paragraph } from 'components/common/Paragraph';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nimport Table from 'react-bootstrap/Table';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport fetchSpreadsheet from 'services/fetchSpreadsheet';\r\nimport { RecipePage } from 'interfaces/Recipe';\r\nimport Button from '@material-ui/core/Button/Button';\r\nimport Grid from '@material-ui/core/Grid/Grid';\r\nimport { getIngredients, simplifyUnit } from 'services/getIngredients';\r\nimport { UserPreferencies } from 'services/AppContext';\r\nimport { AppContext } from 'services/AppContext';\r\nimport Chart from 'react-google-charts';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  heroContent: {\r\n    padding: theme.spacing(8, 0, 2),\r\n  },\r\n}));\r\n\r\ninterface TParams {\r\n  recipe: string;\r\n}\r\n//asd\r\nenum PageStatus {\r\n  LOADING,\r\n  SUCCESS,\r\n  ERROR,\r\n}\r\n\r\nconst Recipe: React.FC = () => {\r\n  React.useEffect(() => {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (window as any).sendPageView();\r\n  }, []);\r\n  const appContext = React.useContext(AppContext);\r\n  const params = useParams<TParams>();\r\n  const classes = useStyles();\r\n\r\n  const [pageStatus, setPageStatus] = React.useState<PageStatus>(PageStatus.LOADING);\r\n  const [errorMessage, setErrorMessage] = React.useState<string>('');\r\n  // const [isLoading, setIsLoading] = React.useState<boolean>(true);\r\n  const [numOfGuests, setNumOfGuests] = React.useState<number>(\r\n    appContext?.userPreferencies.getUserPreferencies.numberOfGuests || 10,\r\n  );\r\n  const [recipe, setRecipe] = React.useState<RecipePage>();\r\n\r\n  const loadingMessage = 'Betöltés...';\r\n\r\n  const testColors = ['#72bf44', '#5c3896', '#f39200', '#0075bf', '#da0812', '#5b2919', '#009a93'];\r\n  const colorBasedOnNumber = (number: number): string => {\r\n    return testColors[number % testColors.length];\r\n  };\r\n\r\n  const themeColor = colorBasedOnNumber(params.recipe.length);\r\n\r\n  const handleChange = (event: React.FormEvent<HTMLInputElement>): void => {\r\n    if (event.currentTarget.value) {\r\n      const N = parseInt(event.currentTarget.value);\r\n      setNumOfGuests(N);\r\n      if (appContext)\r\n        appContext.userPreferencies.setUserPreferencies((prevState: UserPreferencies) => {\r\n          return {\r\n            ...prevState,\r\n            numberOfGuests: N,\r\n          };\r\n        });\r\n    }\r\n  };\r\n\r\n  // React.useEffect(() => {\r\n  //   appContext?.userPreferencies.setUserPreferencies((prevState: UserPreferencies) => {\r\n  //     return {\r\n  //       ...prevState,\r\n  //       numberOfGuests: numOfGuests,\r\n  //     };\r\n  //   });\r\n  // }, [numOfGuests]);\r\n\r\n  React.useEffect(() => {\r\n    let mounted = true;\r\n    setPageStatus(PageStatus.LOADING);\r\n    setErrorMessage('');\r\n    const spreadsheetId = '14m9QUg6EUBP7Nxz_1DyfnSRy3akgjcz6nZYKMpPVkL4';\r\n    const gid = '1653810923';\r\n    const query = `select A, B, C, D, E, F, G, H, L, Q, R, I, J, S, T, U, V where B = '${params.recipe}'`;\r\n    const headers = 1;\r\n\r\n    (async (): Promise<void> => {\r\n      try {\r\n        const data = await fetchSpreadsheet(query, spreadsheetId, gid, headers);\r\n        if (!mounted) return;\r\n        if (data.length > 0) {\r\n          const recipeData = data[0];\r\n          console.log(recipeData);\r\n          const time =\r\n            ((recipeData[2] as unknown) as number[])[0] === 0\r\n              ? ((recipeData[2] as unknown) as number[])[1] + ' perc'\r\n              : ((recipeData[2] as unknown) as number[])[0] +\r\n                ' óra ' +\r\n                (((recipeData[2] as unknown) as number[])[1] !== 0\r\n                  ? ((recipeData[2] as unknown) as number[])[1] + ' perc'\r\n                  : '');\r\n          setRecipe({\r\n            addDate: recipeData[0],\r\n            name: recipeData[1],\r\n            time: time,\r\n            ingredients: getIngredients(recipeData[3]),\r\n            instructions: recipeData[4],\r\n            portions: parseInt(recipeData[5]),\r\n            tools: recipeData[6],\r\n            imageLink: recipeData[7],\r\n            addedBy: recipeData[8],\r\n            price: +recipeData[9],\r\n            properties: {\r\n              energy: +recipeData[10],\r\n              protein: +recipeData[13],\r\n              carbohydrate: +recipeData[14],\r\n              fat: +recipeData[15],\r\n              water: +recipeData[16],\r\n            },\r\n            source: recipeData[11],\r\n            otherParams: recipeData[12],\r\n          });\r\n          // console.log(getIngredients(recipeData[3]));\r\n          // setIsLoading(false);\r\n          setPageStatus(PageStatus.SUCCESS);\r\n        } else {\r\n          setErrorMessage(`Nem szerepel recept \"${params.recipe}\" néven a táblázatban.`);\r\n          setPageStatus(PageStatus.ERROR);\r\n        }\r\n      } catch (error) {\r\n        setPageStatus(PageStatus.ERROR);\r\n        setErrorMessage('Valószínűleg a táblázattal van probléma. Ha biztosan nem hibáztál, keresd fel Dávidot.');\r\n        console.log(error);\r\n      }\r\n    })();\r\n\r\n    return (): void => {\r\n      mounted = false;\r\n    };\r\n  }, [params.recipe]);\r\n\r\n  // console.log(params.id);\r\n\r\n  const titleText = (status: PageStatus): string => {\r\n    switch (status) {\r\n      case PageStatus.SUCCESS:\r\n        return `${params.recipe} recept`;\r\n      case PageStatus.LOADING:\r\n        return loadingMessage;\r\n      case PageStatus.ERROR:\r\n        return 'Hiba';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container maxWidth=\"lg\">\r\n        <div className={classes.heroContent}>\r\n          <Typography variant=\"h3\" align=\"center\" gutterBottom>\r\n            <HeaderBorder align=\"center\" backgroundColor={themeColor} text={titleText(pageStatus)} fontSize={30} />\r\n          </Typography>\r\n          <Grid container spacing={2} justify=\"center\">\r\n            <Grid item>\r\n              <Link to=\"/receptkonyv\" style={{ textDecoration: 'none' }}>\r\n                <Button variant=\"outlined\" color=\"primary\">\r\n                  Receptkönyv\r\n                </Button>\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n        {pageStatus === PageStatus.SUCCESS ? (\r\n          <>\r\n            <Paragraph backgroundColor={themeColor} title=\"Elkészítés\">\r\n              {recipe ? (\r\n                <>\r\n                  <p>\r\n                    Az eredeti recept <b>{recipe.portions} személyre</b> szól, {recipe.time} elkészítési idő mellett.\r\n                  </p>\r\n                  <ol style={{ padding: '0 0 0 20px' }}>\r\n                    {recipe.instructions.split('\\n').map((section, index) => (\r\n                      <li key={index}>\r\n                        {section}\r\n                        <br />\r\n                      </li>\r\n                    ))}\r\n                  </ol>\r\n                </>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </Paragraph>\r\n            <Paragraph backgroundColor={themeColor} title=\"Alapanyagok\">\r\n              Hány főre szeretnéd látni a szükséges mennyiségeket?\r\n              <br />\r\n              <br />\r\n              <InputGroup className=\"mb-3\" style={{ maxWidth: '121px' }}>\r\n                <FormControl\r\n                  // placeholder=\"Recipient's username\"\r\n                  aria-label=\"Recipient's username\"\r\n                  aria-describedby=\"basic-addon2\"\r\n                  type=\"number\"\r\n                  defaultValue={numOfGuests}\r\n                  onChange={handleChange}\r\n                  min={1}\r\n                />\r\n                <InputGroup.Append>\r\n                  <InputGroup.Text id=\"basic-addon2\">fő</InputGroup.Text>\r\n                </InputGroup.Append>\r\n              </InputGroup>\r\n              <br />\r\n              <Table responsive>\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>Alapanyag</th>\r\n                    <th>Mennyiség {recipe?.portions} főre</th>\r\n                    {recipe?.portions !== 1 ? <th>Mennyiség 1 főre</th> : <></>}\r\n                    <th>Mennyiség {numOfGuests} főre</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {recipe?.ingredients.ingredients.map((ingredient, index) => (\r\n                    <tr key={index}>\r\n                      <td>{index + 1}.</td>\r\n                      <td>\r\n                        {/*glutén- és laktózmentes */}\r\n                        {ingredient.name}\r\n                      </td>\r\n                      <td>{simplifyUnit(ingredient.amount, ingredient.unit)}</td>\r\n                      {recipe?.portions !== 1 ? (\r\n                        <td>{simplifyUnit(ingredient.amount / (recipe?.portions || 1), ingredient.unit)}</td>\r\n                      ) : (\r\n                        <></>\r\n                      )}\r\n                      <td>\r\n                        {simplifyUnit((ingredient.amount * numOfGuests) / (recipe?.portions || 1), ingredient.unit)}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  {/* <tr>\r\n                    <td>1</td>\r\n                    <td>csirkemellfilé egy tonhalas szendviccsel</td>\r\n                    <td>Table cell</td>\r\n                    <td>Table cell</td>\r\n                  </tr>*/}\r\n                </tbody>\r\n                <thead>\r\n                  <tr>\r\n                    <th>∑</th>\r\n                    <th>Energiabevitel</th>\r\n                    {recipe?.portions !== 1 ? <th></th> : <></>}\r\n                    <th>{simplifyUnit(recipe?.properties.energy || 0, 'kcal')} *</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <thead>\r\n                  <tr>\r\n                    <th>∑</th>\r\n                    <th>Költség</th>\r\n                    {recipe?.portions !== 1 ? <th></th> : <></>}\r\n                    <th>{simplifyUnit(recipe?.price || 0, 'Ft')} *</th>\r\n                    <th>{simplifyUnit((recipe?.price || 0) * numOfGuests, 'Ft')} *</th>\r\n                  </tr>\r\n                </thead>\r\n              </Table>\r\n              <i>\r\n                * Csak a táblázatban, az &quot;Alapanyagok&quot; munkalapon szereplő hozzávalók lettek figyelembe véve a\r\n                számítás során.\r\n              </i>\r\n            </Paragraph>\r\n            <Paragraph backgroundColor={themeColor} title=\"Tápanyagtartalom\">\r\n              <Chart\r\n                width=\"max\"\r\n                height={'250px'}\r\n                chartType=\"PieChart\"\r\n                loader={<div>Diagram betöltése...</div>}\r\n                data={[\r\n                  ['Tápanyag', 'Tápanyagtartalom (kcal-ban)'],\r\n                  ['Fehérje', recipe?.properties.protein],\r\n                  ['Szénhidrát', recipe?.properties.carbohydrate],\r\n                  ['Zsír', recipe?.properties.fat],\r\n                  ['Víz', recipe?.properties.water],\r\n                  [\r\n                    'Egyéb vagy a munkalapon nem szereplő',\r\n                    (recipe?.properties.energy || 0) -\r\n                      ((recipe?.properties.protein || 0) +\r\n                        (recipe?.properties.carbohydrate || 0) +\r\n                        (recipe?.properties.fat || 0) +\r\n                        (recipe?.properties.water || 0)),\r\n                  ],\r\n                ]}\r\n                options={{\r\n                  title: 'Tápanyagok energiatartalmának megoszlása (kcal / fő)',\r\n                  backgroundColor: '#fafafa',\r\n                }}\r\n                // rootProps={{ 'data-testid': '1' }}\r\n              />\r\n            </Paragraph>\r\n            {recipe && recipe.tools ? (\r\n              <Paragraph backgroundColor={themeColor} title=\"Eszközök\">\r\n                {recipe.tools.split(', ').map((tool, index) => (\r\n                  <React.Fragment key={'tool' + index}>\r\n                    <Badge style={{ background: colorBasedOnNumber(index + params.recipe.length) }} variant=\"primary\">\r\n                      {tool}\r\n                    </Badge>{' '}\r\n                  </React.Fragment>\r\n                ))}\r\n              </Paragraph>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            {recipe && recipe.otherParams !== '' ? (\r\n              <>\r\n                <Paragraph backgroundColor={themeColor} title=\"További paraméterek\">\r\n                  {recipe.otherParams.split('\\n').map((row, index) => {\r\n                    return <p key={'otherParams' + index}>{row}</p>;\r\n                  })}\r\n                </Paragraph>\r\n              </>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            {recipe ? (\r\n              <>\r\n                <p>\r\n                  <b>Forrás: </b>\r\n                  {recipe.source}\r\n                </p>\r\n                <p>\r\n                  <i>\r\n                    Rögzítette: {recipe.addedBy} {recipe.addDate}\r\n                  </i>\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </>\r\n        ) : pageStatus === PageStatus.ERROR ? (\r\n          <>\r\n            {errorMessage ? (\r\n              <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\r\n                {errorMessage}\r\n              </Typography>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Recipe;\r\n","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography/Typography';\r\nimport Container from '@material-ui/core/Container/Container';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nimport { HeaderBorder } from '../components/Border/Border';\r\nimport { Paragraph } from '../components/common/Paragraph';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  heroContent: {\r\n    // backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 2),\r\n  },\r\n}));\r\n\r\nconst Manual: React.FC = () => {\r\n  React.useEffect(() => {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (window as any).sendPageView('Útmutató');\r\n  }, []);\r\n  const classes = useStyles();\r\n\r\n  const themeColor = '#fab855';\r\n\r\n  return (\r\n    <>\r\n      <Container maxWidth=\"lg\">\r\n        <div className={classes.heroContent}>\r\n          <Typography\r\n            // style={{ marginBottom: '40px' }}\r\n            // component=\"h1\"\r\n            variant=\"h3\"\r\n            // color=\"textPrimary\"\r\n            gutterBottom\r\n          >\r\n            <HeaderBorder align=\"center\" backgroundColor=\"#f39200\" text={`Használati útmutató`} fontSize={30} />\r\n          </Typography>\r\n        </div>\r\n        <Paragraph backgroundColor={themeColor} title=\"Mi ez?\">\r\n          Ennek a weboldalnak a célja, hogy segítséget nyújtson a cserkészcsapatok számára táboraik étkeztetésének\r\n          megtervezésében. A használatához szükség van egy nagyon kötött formátumú Google Táblázatra. Ebből a\r\n          táblázatból tölti be az alkalmazás az összes szükséges adatot, úgymint a tábori étlapot vagy a csapat\r\n          receptjeit.\r\n        </Paragraph>\r\n        <Paragraph backgroundColor={themeColor} title=\"Ha szeretnéd kipróbálni\">\r\n          [TODO]\r\n          <br />\r\n          <a href=\"https://drive.google.com/open?id=1iwHjxxVkPz7LViZWLzPFzOiSEgxsM_1D\">\r\n            A minta táblázat itt érhető el.\r\n          </a>{' '}\r\n          Fontos, hogy a működéshez erről a táblázatról kell másolatot készíteni a különböző, más táblázatokban fel nem\r\n          lelhető függvények miatt.\r\n        </Paragraph>\r\n        <Paragraph backgroundColor={themeColor} title=\"Táblázat használata\">\r\n          [TODO]\r\n        </Paragraph>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Manual;\r\n","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography/Typography';\r\nimport Container from '@material-ui/core/Container/Container';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nimport { HeaderBorder } from '../components/Border/Border';\r\nimport { AppContext } from 'services/AppContext';\r\nimport { Paragraph } from 'components/common/Paragraph';\r\nimport { EatingPlan as EatingPlanInterface } from 'services/getEatingPlan';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid/Grid';\r\nimport LinearProgress from '@material-ui/core/LinearProgress/LinearProgress';\r\nimport { simplifyUnit } from 'services/getIngredients';\r\nimport Chart from 'react-google-charts';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  heroContent: {\r\n    // backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 2),\r\n  },\r\n  media: {\r\n    // height: 0,\r\n    // paddingTop: '100%',\r\n    width: '100px',\r\n    height: '100px',\r\n  },\r\n  gridItem: {\r\n    // backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst EatingPlan: React.FC = () => {\r\n  React.useEffect(() => {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    (window as any).sendPageView('Élelmezési terv');\r\n  });\r\n  const appContext = React.useContext(AppContext);\r\n  const [eatingPlan, setEatingPlan] = React.useState<EatingPlanInterface | null>(null);\r\n\r\n  React.useEffect(() => {\r\n    let mounted = true;\r\n\r\n    (async function(): Promise<void> {\r\n      if (!appContext || !appContext.getEatingPlan) return;\r\n      const eatingPlan = await appContext.getEatingPlan();\r\n      if (mounted) {\r\n        // console.log(eatingPlan);\r\n        setEatingPlan(eatingPlan);\r\n      }\r\n    })();\r\n\r\n    return (): void => {\r\n      mounted = false;\r\n    };\r\n  }, [appContext]);\r\n\r\n  const classes = useStyles();\r\n  const themeColor = '#0075bf';\r\n  return (\r\n    <>\r\n      <Container maxWidth=\"lg\">\r\n        <div className={classes.heroContent}>\r\n          <Typography component=\"h1\" variant=\"h3\" align=\"left\" color=\"textPrimary\" gutterBottom>\r\n            <HeaderBorder\r\n              align=\"center\"\r\n              backgroundColor={themeColor}\r\n              text={appContext?.appConstants?.title || ''}\r\n              fontSize={30}\r\n            />\r\n          </Typography>\r\n        </div>\r\n        <br />\r\n        {/* <b>[TODO]:</b> Ezzel kezdeni valamit. */}\r\n        <br />\r\n        <br />\r\n        {/* <CardMedia\r\n          className={classes.media}\r\n          image=\"https://kep.cdn.indexvas.hu/1/0/2910/29100/291001/29100123_f5767c5542f27029b9b85cf86c964fa6_wm.jpg\"\r\n          title=\"Paella dish\"\r\n          // raised={true}\r\n        /> */}\r\n        {eatingPlan ? (\r\n          <>\r\n            {/* <Paragraph backgroundColor={themeColor} title=\"Étlap\"> */}\r\n            <Grid container spacing={2}>\r\n              {Object.keys(eatingPlan.plan).map(day => {\r\n                return (\r\n                  <Grid item key={day} xs={12} sm={4} md={3} lg={3} className={classes.gridItem}>\r\n                    {/*<React.Fragment key={day}>*/}\r\n                    <Paragraph backgroundColor={themeColor} title={day}>\r\n                      {Object.keys(eatingPlan.plan[day].meals).map(menu => {\r\n                        return (\r\n                          <React.Fragment key={menu}>\r\n                            {menu}:{' '}\r\n                            {eatingPlan.plan[day].meals[menu].isExist ? (\r\n                              <Link to={`/recept/${eatingPlan.plan[day].meals[menu].name}`}>\r\n                                {eatingPlan.plan[day].meals[menu].name.toLowerCase()}\r\n                              </Link>\r\n                            ) : (\r\n                              eatingPlan.plan[day].meals[menu].name.toLowerCase()\r\n                            )}\r\n                            <br />\r\n                          </React.Fragment>\r\n                        );\r\n                      })}\r\n                      <br />\r\n                      <p>\r\n                        ∑:{' '}\r\n                        {simplifyUnit(\r\n                          Object.keys(eatingPlan.plan[day].meals).reduce((total, currentMealName) => {\r\n                            return total + eatingPlan.plan[day].meals[currentMealName].price;\r\n                          }, 0),\r\n                          'Ft/fő',\r\n                          0,\r\n                        )}\r\n                        ,{' '}\r\n                        {simplifyUnit(\r\n                          Object.keys(eatingPlan.plan[day].meals).reduce((total, currentMealName) => {\r\n                            return total + eatingPlan.plan[day].meals[currentMealName].energy;\r\n                          }, 0),\r\n                          'kcal/fő',\r\n                          0,\r\n                        )}\r\n                      </p>\r\n                    </Paragraph>\r\n                    {/*</React.Fragment>*/}\r\n                  </Grid>\r\n                );\r\n              })}\r\n            </Grid>\r\n            {/* </Paragraph> */}\r\n            <Paragraph backgroundColor={themeColor} title=\"Statisztika\">\r\n              <Chart\r\n                chartType=\"ColumnChart\"\r\n                width=\"100%\"\r\n                height=\"400px\"\r\n                data={eatingPlan.dataForDiagram}\r\n                options={{\r\n                  title: 'Naponkénti energiabevitel megoszlása az étkezések szerint (kcal)',\r\n                  backgroundColor: '#fafafa',\r\n                  isStacked: true,\r\n                }}\r\n              />\r\n            </Paragraph>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <LinearProgress />\r\n          </>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EatingPlan;\r\n","import React from 'react';\r\n\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Container from '@material-ui/core/Container/Container';\r\nimport Typography from '@material-ui/core/Typography/Typography';\r\nimport { HeaderBorder } from 'components/Border/Border';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppContext } from 'services/AppContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  heroContent: {\r\n    padding: theme.spacing(8, 0, 2),\r\n  },\r\n}));\r\n\r\nexport const MustLoadBeforeUse: React.FC = props => {\r\n  const appContext = React.useContext(AppContext);\r\n  return <>{appContext && appContext.appConstants ? props.children : <ErrorScreen />}</>;\r\n};\r\n\r\nconst ErrorScreen: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.heroContent}>\r\n        <Container maxWidth=\"sm\">\r\n          <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n            <HeaderBorder backgroundColor=\"#da0812\" text={`Probléma akadt`} fontSize={30} />\r\n          </Typography>\r\n          <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\r\n            Ennek a funkciónak a használatához be kell töltened az élelmezési tervedet. Erre a{' '}\r\n            <Link to=\"/\">kezdőoldalon</Link> van lehetőséged. További információért olvasd el az{' '}\r\n            <Link to=\"/utmutato\">útmutatót!</Link>\r\n          </Typography>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MustLoadBeforeUse;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\n// import border from './border_purple.svg';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n// import { Border } from './components/Border/Border';\r\n// import { HashRouter as Router, , Route, Switch } from 'react-router-dom';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Footer from './components/layout/Footer';\r\nimport AppBar from './components/layout/AppBar';\r\nimport Homepage from './scenes/Homepage';\r\nimport NewRecipe from './scenes/NewRecipe';\r\nimport RecipeList from './scenes/Recipes';\r\nimport Recipe from './scenes/Recipe';\r\nimport Manual from './scenes/Manual';\r\nimport EatingPlan from './scenes/EatingPlan';\r\nimport MustLoadBeforeUse from './scenes/MustLoadBeforeUse';\r\nimport { AppProvider } from 'services/AppContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  main: {\r\n    flex: '1 0 auto',\r\n    // backgroundImage: `url(${liliom})`,\r\n    // backgroundPosition: 'center',\r\n    // backgroundSize: 'cover',\r\n    // backgroundAttachment: 'fixed',\r\n    // más:\r\n    // backgroundImage: `url(${nyakkendo})`,\r\n    // backgroundRepeat: 'repeat',\r\n    // backgroundAttachment: 'fixed',\r\n  },\r\n}));\r\n\r\n// Listen for changes to the current location.\r\n// history.listen((location, action) => {\r\n//   // location is an object like window.location\r\n//   console.log(action, location.pathname, location.state);\r\n// });\r\n\r\nconst App: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <Router basename={`/`}>\r\n        <AppProvider>\r\n          <AppBar />\r\n          <main className={classes.main}>\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Homepage />\r\n              </Route>\r\n              <Route exact path=\"/utmutato\">\r\n                <Manual />\r\n              </Route>\r\n              <Route exact path=\"/elelmezesi-terv\">\r\n                <MustLoadBeforeUse>\r\n                  <EatingPlan />\r\n                </MustLoadBeforeUse>\r\n              </Route>\r\n              <Route exact path=\"/receptkonyv\">\r\n                <MustLoadBeforeUse>\r\n                  <RecipeList />\r\n                </MustLoadBeforeUse>\r\n              </Route>\r\n              <Route exact path=\"/recept/:recipe\">\r\n                <MustLoadBeforeUse>\r\n                  <Recipe />\r\n                </MustLoadBeforeUse>\r\n              </Route>\r\n              <Route exact path=\"/uj-recept\">\r\n                <MustLoadBeforeUse>\r\n                  <NewRecipe />\r\n                </MustLoadBeforeUse>\r\n              </Route>\r\n              <Route>\r\n                {/* <Button>asd</Button> */}\r\n                <p className={classes.main}>Ez az oldal nem létezik.</p>\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n        </AppProvider>\r\n      </Router>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL((process as { env: { [key: string]: string } }).env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}